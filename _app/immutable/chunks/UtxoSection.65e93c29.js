import{s as _e,f as m,g as p,h as B,d as f,j as S,i as v,r as X,C as he,Q as de,l as T,m as L,a as C,e as se,c as H,n as A,X as me,k as pe,z as _,W as be,J as ce,A as fe}from"./scheduler.31c5c991.js";import{e as re}from"./each.36caa2c1.js";import{S as ke,i as ge}from"./index.8d8dd004.js";import{P as ve}from"./Record.a35cf8a7.js";import{$ as we}from"./runtime.esm.b4d15a0b.js";import{l as Be}from"./lock_clock.5471ed23.js";const ue=""+new URL("../assets/arrow_split.b1074e57.svg",import.meta.url).href;function ie(n,e,l){const i=n.slice();return i[14]=e[l],i}function Ee(n){let e;return{c(){e=m("progress"),this.h()},l(l){e=p(l,"PROGRESS",{id:!0,"aria-label":!0}),B(e).forEach(f),this.h()},h(){S(e,"id","progress-bar"),S(e,"aria-label","Content loadingâ€¦")},m(l,i){v(l,e,i)},p:X,d(l){l&&f(e)}}}function Se(n){let e;return{c(){e=T("0 sats")},l(l){e=L(l,"0 sats")},m(l,i){v(l,e,i)},p:X,d(l){l&&f(e)}}}function ye(n){let e,l,i,a,t,r=re(n[0]),o=[];for(let s=0;s<r.length;s+=1)o[s]=oe(ie(n,r,s));return{c(){e=T(n[2]),l=C(),i=T(n[3]),a=C();for(let s=0;s<o.length;s+=1)o[s].c();t=se()},l(s){e=L(s,n[2]),l=H(s),i=L(s,n[3]),a=H(s);for(let c=0;c<o.length;c+=1)o[c].l(s);t=se()},m(s,c){v(s,e,c),v(s,l,c),v(s,i,c),v(s,a,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,c);v(s,t,c)},p(s,c){if(c&4&&A(e,s[2]),c&8&&A(i,s[3]),c&113){r=re(s[0]);let u;for(u=0;u<r.length;u+=1){const D=ie(s,r,u);o[u]?o[u].p(D,c):(o[u]=oe(D),o[u].c(),o[u].m(t.parentNode,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d(s){s&&(f(e),f(l),f(i),f(a),f(t)),me(o,s)}}}function ae(n){let e,l,i,a,t,r=n[14].waitBlocks+"",o;return{c(){e=m("img"),a=C(),t=m("b"),o=T(r),this.h()},l(s){e=p(s,"IMG",{src:!0,alt:!0}),a=H(s),t=p(s,"B",{});var c=B(t);o=L(c,r),c.forEach(f),this.h()},h(){be(e.src,l=Be)||S(e,"src",l),S(e,"alt",i=n[5]("ok"))},m(s,c){v(s,e,c),v(s,a,c),v(s,t,c),_(t,o)},p(s,c){c&32&&i!==(i=s[5]("ok"))&&S(e,"alt",i),c&1&&r!==(r=s[14].waitBlocks+"")&&A(o,r)},d(s){s&&(f(e),f(a),f(t))}}}function Te(n){let e,l=`<img src="${ue}"/>`,i,a;function t(){return n[9](n[14])}return{c(){e=m("button"),e.innerHTML=l},l(r){e=p(r,"BUTTON",{"data-svelte-h":!0}),ce(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(r,o){v(r,e,o),i||(a=fe(e,"click",t),i=!0)},p(r,o){n=r},d(r){r&&f(e),i=!1,a()}}}function Le(n){let e,l=`<img src="${ue}"/>`,i,a;function t(){return n[8](n[14])}return{c(){e=m("button"),e.innerHTML=l},l(r){e=p(r,"BUTTON",{"data-svelte-h":!0}),ce(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(r,o){v(r,e,o),i||(a=fe(e,"click",t),i=!0)},p(r,o){n=r},d(r){r&&f(e),i=!1,a()}}}function ne(n){let e,l=n[14].estimateUnlockDate+"",i;return{c(){e=m("p"),i=T(l)},l(a){e=p(a,"P",{});var t=B(e);i=L(t,l),t.forEach(f)},m(a,t){v(a,e,t),_(e,i)},p(a,t){t&1&&l!==(l=a[14].estimateUnlockDate+"")&&A(i,l)},d(a){a&&f(e)}}}function oe(n){let e,l,i,a,t,r,o=n[14].satoshis.toLocaleString()+"",s,c,u,D,R,U=(Number(n[14].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",N,P,I,h,w,F,E,j,q,G=(n[14].satoshis/96n).toLocaleString()+"",z,K,V,Y,b=n[4]>0&&n[14].waitBlocks>0&&ae(n);function $(d,g){return d[14].waitBlocks<0?Le:Te}let J=$(n),y=J(n),k=n[4]>0&&n[14].waitBlocks>0&&ne(n);return{c(){e=m("table"),l=m("tr"),i=m("td"),b&&b.c(),a=C(),t=m("td"),r=m("b"),s=T(o),c=T(" sats "),u=m("br"),D=C(),R=m("i"),N=T(U),P=T(" BCH"),I=C(),h=m("tr"),w=m("td"),y.c(),F=C(),E=m("td"),k&&k.c(),j=C(),q=m("b"),z=T(G),K=T(" sats "),V=m("br"),Y=C(),this.h()},l(d){e=p(d,"TABLE",{class:!0});var g=B(e);l=p(g,"TR",{});var Q=B(l);i=p(Q,"TD",{class:!0});var x=B(i);b&&b.l(x),x.forEach(f),a=H(Q),t=p(Q,"TD",{class:!0});var M=B(t);r=p(M,"B",{});var ee=B(r);s=L(ee,o),ee.forEach(f),c=L(M," sats "),u=p(M,"BR",{}),D=H(M),R=p(M,"I",{});var Z=B(R);N=L(Z,U),P=L(Z," BCH"),Z.forEach(f),M.forEach(f),Q.forEach(f),I=H(g),h=p(g,"TR",{});var W=B(h);w=p(W,"TD",{class:!0});var te=B(w);y.l(te),te.forEach(f),F=H(W),E=p(W,"TD",{colspan:!0,style:!0,class:!0});var O=B(E);k&&k.l(O),j=H(O),q=p(O,"B",{});var le=B(q);z=L(le,G),le.forEach(f),K=L(O," sats "),V=p(O,"BR",{}),O.forEach(f),W.forEach(f),Y=H(g),g.forEach(f),this.h()},h(){S(i,"class","svelte-1lht9d3"),S(t,"class","svelte-1lht9d3"),S(w,"class","svelte-1lht9d3"),S(E,"colspan","3"),pe(E,"line-break","anywhere"),S(E,"class","svelte-1lht9d3"),S(e,"class","svelte-1lht9d3")},m(d,g){v(d,e,g),_(e,l),_(l,i),b&&b.m(i,null),_(l,a),_(l,t),_(t,r),_(r,s),_(t,c),_(t,u),_(t,D),_(t,R),_(R,N),_(R,P),_(e,I),_(e,h),_(h,w),y.m(w,null),_(h,F),_(h,E),k&&k.m(E,null),_(E,j),_(E,q),_(q,z),_(E,K),_(E,V),_(e,Y)},p(d,g){d[4]>0&&d[14].waitBlocks>0?b?b.p(d,g):(b=ae(d),b.c(),b.m(i,null)):b&&(b.d(1),b=null),g&1&&o!==(o=d[14].satoshis.toLocaleString()+"")&&A(s,o),g&1&&U!==(U=(Number(d[14].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&A(N,U),J===(J=$(d))&&y?y.p(d,g):(y.d(1),y=J(d),y&&(y.c(),y.m(w,null))),d[4]>0&&d[14].waitBlocks>0?k?k.p(d,g):(k=ne(d),k.c(),k.m(E,j)):k&&(k.d(1),k=null),g&1&&G!==(G=(d[14].satoshis/96n).toLocaleString()+"")&&A(z,G)},d(d){d&&f(e),b&&b.d(),y.d(),k&&k.d()}}}function De(n){let e;function l(t,r){return t[0]&&t[0].length>0?ye:!t[1]&&t[0].length==0?Se:Ee}let i=l(n),a=i(n);return{c(){e=m("section"),a.c(),this.h()},l(t){e=p(t,"SECTION",{class:!0});var r=B(e);a.l(r),r.forEach(f),this.h()},h(){S(e,"class","svelte-1lht9d3")},m(t,r){v(t,e,r),a.m(e,null)},p(t,[r]){i===(i=l(t))&&a?a.p(t,r):(a.d(1),a=i(t),a&&(a.c(),a.m(e,null)))},i:X,o:X,d(t){t&&f(e),a.d()}}}function Ue(n,e,l){let i;he(n,we,h=>l(5,i=h));let{receiptAddress:a=""}=e,t=[],r,o=!0,s=!1,c="",u="",D=-1,R=Date.now();de(async()=>{a&&(r||(r=new ve(4383,a,1500,96),r&&await N()))});const U=async h=>{s=!1;try{l(2,c=await r.execute(a,void 0,[h])),s=!0,l(3,u="")}catch(w){l(3,u=w)}},N=async()=>{l(0,t=await r.getUtxos()),l(4,D=await r.provider.getBlockHeight()),l(0,t=t.sort((h,w)=>h.height-w.height)),l(0,t=t.map(h=>{let w=h.height+4383-D;return{...h,estimateUnlockDate:new Date(R+w*6e5).toLocaleString(),waitBlocks:w}})),l(1,o=!1)},P=async h=>U(h),I=async h=>U(h);return n.$$set=h=>{"receiptAddress"in h&&l(7,a=h.receiptAddress)},[t,o,c,u,D,i,U,a,P,I]}class Oe extends ke{constructor(e){super(),ge(this,e,Ue,De,_e,{receiptAddress:7})}}export{Oe as U};
//# sourceMappingURL=UtxoSection.65e93c29.js.map
