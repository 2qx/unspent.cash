import{s as Ee,e as te,i as w,r as Q,d as c,z as ye,Q as Be,f as h,a as B,g as m,h as T,w as G,c as S,j as v,y as d,E as se,l as A,m as P,n as z,R as Se,k as Z,S as _e,F as Ae,B as Pe}from"../chunks/scheduler.0642664a.js";import{S as we,i as Re,t as K,c as pe,a as F,b as Le,d as He,m as Ce,e as De,g as he}from"../chunks/index.16db4fa1.js";import"../chunks/paths.d5f9ba86.js";import{l as Ue}from"../chunks/lock_clock.7dae73f4.js";import{$ as Me}from"../chunks/runtime.esm.c1db0ab5.js";import{t as Y}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.39f28818.js";import{C as Oe}from"../chunks/CopyToClipboard.67d3cfaa.js";import{g as qe,R as Ie,i as Ne,b as je,l as ze,s as Ve,r as me,P as Xe}from"../chunks/store.eb381ed3.js";const Fe=!1,Ge=!0;async function Qe({url:a}){let e=a.searchParams.get("q")||void 0,t=a.searchParams.get("addr")||void 0;return{q:e,addr:t}}const bt=Object.freeze(Object.defineProperty({__proto__:null,load:Qe,prerender:Ge,ssr:Fe},Symbol.toStringTag,{value:"Module"})),Je=""+new URL("../assets/arrow_back.97a57b73.svg",import.meta.url).href,Ke=""+new URL("../assets/arrow_down.61f0a2ba.svg",import.meta.url).href,We=""+new URL("../assets/arrow_step.28ce36cd.svg",import.meta.url).href,Ye=""+new URL("../assets/month.7c119aa1.svg",import.meta.url).href,Ze=""+new URL("../assets/announce.fca45ce5.svg",import.meta.url).href;function xe(a){let e,t,r=`<img src="${Ze}" alt="announce"/>`,s,l,u,i,n,o=!a[1]&&ke(),p=a[2]&&ve(a);return{c(){e=h("div"),t=h("button"),t.innerHTML=r,s=B(),o&&o.c(),l=B(),p&&p.c(),u=te(),this.h()},l(f){e=m(f,"DIV",{});var k=T(e);t=m(k,"BUTTON",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-xthcbf"&&(t.innerHTML=r),k.forEach(c),s=S(f),o&&o.l(f),l=S(f),p&&p.l(f),u=te(),this.h()},h(){v(t,"class","hitMe svelte-kwnyj0")},m(f,k){w(f,e,k),d(e,t),w(f,s,k),o&&o.m(f,k),w(f,l,k),p&&p.m(f,k),w(f,u,k),i||(n=se(t,"click",a[4]),i=!0)},p(f,k){f[1]?o&&(o.d(1),o=null):o||(o=ke(),o.c(),o.m(l.parentNode,l)),f[2]?p?p.p(f,k):(p=ve(f),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},d(f){f&&(c(e),c(s),c(l),c(u)),o&&o.d(f),p&&p.d(f),i=!1,n()}}}function $e(a){let e,t,r=a[3]("ok")+"",s;return{c(){e=h("div"),t=h("button"),s=A(r),this.h()},l(l){e=m(l,"DIV",{class:!0});var u=T(e);t=m(u,"BUTTON",{});var i=T(t);s=P(i,r),i.forEach(c),u.forEach(c),this.h()},h(){t.disabled=!0,v(e,"class","action")},m(l,u){w(l,e,u),d(e,t),d(t,s)},p(l,u){u&8&&r!==(r=l[3]("ok")+"")&&z(s,r)},d(l){l&&c(e)}}}function et(a){let e,t='<button disabled=""><progress id="progress-bar" aria-label="Content loading…" class="svelte-kwnyj0"></progress></button>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(r){e=m(r,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1qoxalt"&&(e.innerHTML=t),this.h()},h(){v(e,"class","action")},m(r,s){w(r,e,s)},p:Q,d(r){r&&c(e)}}}function ke(a){let e;return{c(){e=h("progress"),this.h()},l(t){e=m(t,"PROGRESS",{id:!0,"aria-label":!0,class:!0}),T(e).forEach(c),this.h()},h(){v(e,"id","progress-bar"),v(e,"aria-label","Content loading…"),v(e,"class","svelte-kwnyj0")},m(t,r){w(t,e,r)},d(t){t&&c(e)}}}function ve(a){let e,t;return{c(){e=h("pre"),t=A(a[2])},l(r){e=m(r,"PRE",{});var s=T(e);t=P(s,a[2]),s.forEach(c)},m(r,s){w(r,e,s),d(e,t)},p(r,s){s&4&&z(t,r[2])},d(r){r&&c(e)}}}function tt(a){let e;function t(l,u){return l[0]==null?et:l[0]==!0?$e:xe}let r=t(a),s=r(a);return{c(){s.c(),e=te()},l(l){s.l(l),e=te()},m(l,u){s.m(l,u),w(l,e,u)},p(l,[u]){r===(r=t(l))&&s?s.p(l,u):(s.d(1),s=r(l),s&&(s.c(),s.m(e.parentNode,e)))},i:Q,o:Q,d(l){l&&c(e),s.d(l)}}}function st(a,e,t){let r;ye(a,Me,_=>t(3,r=_));let{opReturnHex:s}=e,l="",u,i="",n,o=!0,p=!1,f="";Be(async()=>{s!==l&&(l=s,t(1,o=!0),p=!1,t(2,f=""),i="",await E())});function k(){t(1,o=!1),n=setInterval(()=>{},100)}function H(){t(1,o=!0),clearTimeout(n),t(0,u=!0)}const E=async()=>{if(s.length>0){let _=s.length>50?s.slice(0,50):s,b=await qe("https://gql.chaingraph.pat.mn/v1/graphql",_);b=b.filter(U=>U==s),t(0,u=b.length>0),console.log("is published: ",u)}},g=async()=>{try{k(),p=!1;let _={network:"mainnet",version:2};i=await new Ie(void 0,void 0,_).broadcast(s),t(0,u=!0),p=!0,t(2,f=""),H()}catch(_){t(2,f=_),H()}};return a.$$set=_=>{"opReturnHex"in _&&t(5,s=_.opReturnHex)},[u,o,f,r,g,s]}class lt extends we{constructor(e){super(),Re(this,e,st,tt,Ee,{opReturnHex:5})}}function rt(a){let e;return{c(){e=h("td"),this.h()},l(t){e=m(t,"TD",{colspan:!0,class:!0}),T(e).forEach(c),this.h()},h(){v(e,"colspan","4"),v(e,"class","svelte-8k2eek")},m(t,r){w(t,e,r)},p:Q,d(t){t&&c(e)}}}function at(a){let e,t,r,s,l=a[0].toLocaleString()+"",u,i,n,o,p,f=(Number(a[0])/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",k,H,E=a[1]>0&&be(a);return{c(){e=h("td"),E&&E.c(),t=B(),r=h("td"),s=h("b"),u=A(l),i=A(" sats "),n=h("br"),o=A(`
					(`),p=h("i"),k=A(f),H=A(" BCH)"),this.h()},l(g){e=m(g,"TD",{style:!0,class:!0});var _=T(e);E&&E.l(_),_.forEach(c),t=S(g),r=m(g,"TD",{colspan:!0,class:!0});var b=T(r);s=m(b,"B",{});var U=T(s);u=P(U,l),U.forEach(c),i=P(b," sats "),n=m(b,"BR",{}),o=P(b,`
					(`),p=m(b,"I",{});var C=T(p);k=P(C,f),C.forEach(c),H=P(b," BCH)"),b.forEach(c),this.h()},h(){Z(e,"text-align","center"),v(e,"class","svelte-8k2eek"),v(r,"colspan","3"),v(r,"class","svelte-8k2eek")},m(g,_){w(g,e,_),E&&E.m(e,null),w(g,t,_),w(g,r,_),d(r,s),d(s,u),d(r,i),d(r,n),d(r,o),d(r,p),d(p,k),d(r,H)},p(g,_){g[1]>0?E?E.p(g,_):(E=be(g),E.c(),E.m(e,null)):E&&(E.d(1),E=null),_&1&&l!==(l=g[0].toLocaleString()+"")&&z(u,l),_&1&&f!==(f=(Number(g[0])/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&z(k,f)},d(g){g&&(c(e),c(t),c(r)),E&&E.d()}}}function be(a){let e,t,r;return{c(){e=h("b"),t=A(a[1]),r=A(" UTXO(s)")},l(s){e=m(s,"B",{});var l=T(e);t=P(l,a[1]),r=P(l," UTXO(s)"),l.forEach(c)},m(s,l){w(s,e,l),d(e,t),d(e,r)},p(s,l){l&2&&z(t,s[1])},d(s){s&&c(e)}}}function nt(a){let e,t=a[5]("create")+"",r;return{c(){e=h("td"),r=A(t),this.h()},l(s){e=m(s,"TD",{colspan:!0,class:!0});var l=T(e);r=P(l,t),l.forEach(c),this.h()},h(){v(e,"colspan","4"),v(e,"class","svelte-8k2eek")},m(s,l){w(s,e,l),d(e,r)},p(s,l){l&32&&t!==(t=s[5]("create")+"")&&z(r,t)},i:Q,o:Q,d(s){s&&c(e)}}}function ot(a){let e,t=`<p class="svelte-8k2eek"><img src="${Ue}" alt="lock_clock"/></p>`,r,s,l,u;return l=new Oe({props:{text:a[3].getAddress(),$$slots:{default:[ct,({copy:i})=>({15:i}),({copy:i})=>i?32768:0]},$$scope:{ctx:a}}}),l.$on("copy",a[9]),{c(){e=h("td"),e.innerHTML=t,r=B(),s=h("td"),Le(l.$$.fragment),this.h()},l(i){e=m(i,"TD",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-dwf5t0"&&(e.innerHTML=t),r=S(i),s=m(i,"TD",{colspan:!0,class:!0});var n=T(s);He(l.$$.fragment,n),n.forEach(c),this.h()},h(){v(e,"class","svelte-8k2eek"),v(s,"colspan","3"),v(s,"class","svelte-8k2eek")},m(i,n){w(i,e,n),w(i,r,n),w(i,s,n),Ce(l,s,null),u=!0},p(i,n){const o={};n&8&&(o.text=i[3].getAddress()),n&98312&&(o.$$scope={dirty:n,ctx:i}),l.$set(o)},i(i){u||(F(l.$$.fragment,i),u=!0)},o(i){K(l.$$.fragment,i),u=!1},d(i){i&&(c(e),c(r),c(s)),De(l)}}}function ct(a){let e,t,r=a[3].getAddress()+"",s,l,u;return{c(){e=h("div"),t=h("button"),s=A(r),this.h()},l(i){e=m(i,"DIV",{class:!0});var n=T(e);t=m(n,"BUTTON",{});var o=T(t);s=P(o,r),o.forEach(c),n.forEach(c),this.h()},h(){v(e,"class","action")},m(i,n){w(i,e,n),d(e,t),d(t,s),l||(u=se(t,"click",function(){Pe(a[15])&&a[15].apply(this,arguments)}),l=!0)},p(i,n){a=i,n&8&&r!==(r=a[3].getAddress()+"")&&z(s,r)},d(i){i&&c(e),l=!1,u()}}}function ge(a){let e,t,r='<p class="svelte-8k2eek">1 m; 4383 blocks</p>',s,l,u='<p class="svelte-8k2eek">1/96</p>',i,n,o='<p class="svelte-8k2eek">95/96</p>',p,f,k,H=new Intl.NumberFormat().format(1500)+"",E,g,_,b,U=`<td class="svelte-8k2eek"><p class="svelte-8k2eek"><img src="${Ye}" alt="month"/></p></td> <td class="svelte-8k2eek"><p class="svelte-8k2eek"><img src="${Ke}" alt="to"/></p></td> <td class="svelte-8k2eek"><p class="svelte-8k2eek"><img src="${Je}" alt="back"/></p></td> <td class="svelte-8k2eek"><p class="svelte-8k2eek"><img src="${We}" alt="step"/></p></td>`;return{c(){e=h("tr"),t=h("td"),t.innerHTML=r,s=B(),l=h("td"),l.innerHTML=u,i=B(),n=h("td"),n.innerHTML=o,p=B(),f=h("td"),k=h("p"),E=A(H),g=A(" sat"),_=B(),b=h("tr"),b.innerHTML=U,this.h()},l(C){e=m(C,"TR",{style:!0});var R=T(e);t=m(R,"TD",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-10pdzxv"&&(t.innerHTML=r),s=S(R),l=m(R,"TD",{style:!0,class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1dx27gv"&&(l.innerHTML=u),i=S(R),n=m(R,"TD",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-briqzc"&&(n.innerHTML=o),p=S(R),f=m(R,"TD",{class:!0});var q=T(f);k=m(q,"P",{class:!0});var V=T(k);E=P(V,H),g=P(V," sat"),V.forEach(c),q.forEach(c),R.forEach(c),_=S(C),b=m(C,"TR",{style:!0,"data-svelte-h":!0}),G(b)!=="svelte-1npoznb"&&(b.innerHTML=U),this.h()},h(){v(t,"class","svelte-8k2eek"),Z(l,"max-width","40px"),v(l,"class","svelte-8k2eek"),v(n,"class","svelte-8k2eek"),v(k,"class","svelte-8k2eek"),v(f,"class","svelte-8k2eek"),Z(e,"background-color","lightgray"),Z(b,"background-color","lightgray")},m(C,R){w(C,e,R),d(e,t),d(e,s),d(e,l),d(e,i),d(e,n),d(e,p),d(e,f),d(f,k),d(k,E),d(k,g),w(C,_,R),w(C,b,R)},p:Q,d(C){C&&(c(e),c(_),c(b))}}}function Te(a){let e,t,r;return t=new lt({props:{opReturnHex:a[3].toOpReturn(!0)}}),{c(){e=h("p"),Le(t.$$.fragment),this.h()},l(s){e=m(s,"P",{class:!0});var l=T(e);He(t.$$.fragment,l),l.forEach(c),this.h()},h(){v(e,"class","svelte-8k2eek")},m(s,l){w(s,e,l),Ce(t,e,null),r=!0},p(s,l){const u={};l&8&&(u.opReturnHex=s[3].toOpReturn(!0)),t.$set(u)},i(s){r||(F(t.$$.fragment,s),r=!0)},o(s){K(t.$$.fragment,s),r=!1},d(s){s&&c(e),De(t)}}}function it(a){let e,t,r,s,l,u,i,n,o,p,f,k,H,E,g,_=a[5]("receive")+"",b,U,C,R,q,V,X,I,W,le,ae;function ne(y,M){return y[0]?at:rt}let x=ne(a),O=x(a);const oe=[ot,nt],j=[];function ce(y,M){return y[3]?0:1}n=ce(a),o=j[n]=oe[n](a);let D=a[4]&&ge(),L=a[3]&&Te(a);return{c(){e=h("meta"),t=B(),r=h("section"),s=h("table"),l=h("tr"),O.c(),u=B(),i=h("tr"),o.c(),p=B(),D&&D.c(),f=B(),k=h("tr"),H=h("td"),E=B(),g=h("td"),b=A(_),U=A(":"),C=B(),R=h("tr"),q=h("td"),L&&L.c(),V=B(),X=h("td"),I=h("textarea"),this.h()},l(y){const M=Se("svelte-iflsr",document.head);e=m(M,"META",{name:!0,content:!0}),M.forEach(c),t=S(y),r=m(y,"SECTION",{class:!0});var J=T(r);s=m(J,"TABLE",{class:!0});var N=T(s);l=m(N,"TR",{});var ie=T(l);O.l(ie),ie.forEach(c),u=S(N),i=m(N,"TR",{});var ue=T(i);o.l(ue),ue.forEach(c),p=S(N),D&&D.l(N),f=S(N),k=m(N,"TR",{});var $=T(k);H=m($,"TD",{class:!0}),T(H).forEach(c),E=S($),g=m($,"TD",{style:!0,colspan:!0,class:!0});var re=T(g);b=P(re,_),U=P(re,":"),re.forEach(c),$.forEach(c),C=S(N),R=m(N,"TR",{});var ee=T(R);q=m(ee,"TD",{class:!0});var fe=T(q);L&&L.l(fe),fe.forEach(c),V=S(ee),X=m(ee,"TD",{colspan:!0,class:!0});var de=T(X);I=m(de,"TEXTAREA",{id:!0,class:!0}),T(I).forEach(c),de.forEach(c),ee.forEach(c),N.forEach(c),J.forEach(c),this.h()},h(){document.title="∑ ₿ᵪ",v(e,"name","description"),v(e,"content","Unspent Cash"),v(H,"class","svelte-8k2eek"),Z(g,"line-break","auto"),v(g,"colspan","3"),v(g,"class","svelte-8k2eek"),v(q,"class","svelte-8k2eek"),v(I,"id","addr"),v(I,"class","svelte-8k2eek"),v(X,"colspan","3"),v(X,"class","svelte-8k2eek"),v(s,"class","svelte-8k2eek"),v(r,"class","svelte-8k2eek")},m(y,M){d(document.head,e),w(y,t,M),w(y,r,M),d(r,s),d(s,l),O.m(l,null),d(s,u),d(s,i),j[n].m(i,null),d(s,p),D&&D.m(s,null),d(s,f),d(s,k),d(k,H),d(k,E),d(k,g),d(g,b),d(g,U),d(s,C),d(s,R),d(R,q),L&&L.m(q,null),d(R,V),d(R,X),d(X,I),_e(I,a[2]),W=!0,le||(ae=[se(I,"change",a[10]),se(I,"input",a[11])],le=!0)},p(y,[M]){x===(x=ne(y))&&O?O.p(y,M):(O.d(1),O=x(y),O&&(O.c(),O.m(l,null)));let J=n;n=ce(y),n===J?j[n].p(y,M):(he(),K(j[J],1,1,()=>{j[J]=null}),pe(),o=j[n],o?o.p(y,M):(o=j[n]=oe[n](y),o.c()),F(o,1),o.m(i,null)),y[4]?D?D.p(y,M):(D=ge(),D.c(),D.m(s,f)):D&&(D.d(1),D=null),(!W||M&32)&&_!==(_=y[5]("receive")+"")&&z(b,_),y[3]?L?(L.p(y,M),M&8&&F(L,1)):(L=Te(y),L.c(),F(L,1),L.m(q,null)):L&&(he(),K(L,1,1,()=>{L=null}),pe()),M&4&&_e(I,y[2])},i(y){W||(F(o),F(L),W=!0)},o(y){K(o),K(L),W=!1},d(y){y&&(c(t),c(r)),c(e),O.d(),j[n].d(),D&&D.d(),L&&L.d(),le=!1,Ae(ae)}}}function ut(a,e,t){let r;ye(a,Me,_=>t(5,r=_));let{data:s}=e,{p:l}=e,u,i,n,o,p=!1;if(s.q&&!n){let _=Ne(je(encodeURI(s.q)));n=ze(_),p=!0,f(!1)}async function f(_=!0){if(n)try{try{t(2,n=await Ve(n)),t(4,p=!0),_&&me.set(n)}catch(b){t(4,p=!1),b.message?Y.push(b.message,{classes:["warn"]}):Y.push(b,{classes:["warn"]})}t(3,o=new Xe(4383,n,1500,96)),k()}catch(b){t(3,o=void 0),b.message?Y.push(b.message,{classes:["warn"]}):Y.push(b,{classes:["warn"]})}else t(3,o=void 0),t(0,u=void 0)}const k=async()=>{o&&t(0,u=await o.getBalance()),o&&t(1,i=(await o.getUtxos()).length)};me.subscribe(_=>{t(2,n=_),n&&!o&&f()});const H=()=>Y.push("📋🗸"),E=()=>f();function g(){n=this.value,t(2,n)}return a.$$set=_=>{"data"in _&&t(7,s=_.data),"p"in _&&t(8,l=_.p)},[u,i,n,o,p,r,f,s,l,H,E,g]}class gt extends we{constructor(e){super(),Re(this,e,ut,it,Ee,{data:7,p:8})}}export{gt as component,bt as universal};
//# sourceMappingURL=2.82a1f6ff.js.map
