import{s as ue,f as p,g as b,h as B,d as f,j as T,i as w,r as K,C as _e,Q as he,l as E,m as S,a as C,e as le,c as H,n as N,X as de,k as me,z as _,W as pe,J as oe,A as ce}from"./scheduler.31c5c991.js";import{e as se}from"./each.36caa2c1.js";import{S as be,i as ke}from"./index.8d8dd004.js";import{P as ge}from"./Record.99eb2ab0.js";import{$ as ve}from"./runtime.esm.b4d15a0b.js";import{l as we}from"./lock_clock.5471ed23.js";const fe=""+new URL("../assets/arrow_split.b1074e57.svg",import.meta.url).href;function ie(n,e,l){const r=n.slice();return r[14]=e[l],r}function Be(n){let e;return{c(){e=p("progress"),this.h()},l(l){e=b(l,"PROGRESS",{id:!0,"aria-label":!0}),B(e).forEach(f),this.h()},h(){T(e,"id","progress-bar"),T(e,"aria-label","Content loadingâ€¦")},m(l,r){w(l,e,r)},p:K,d(l){l&&f(e)}}}function Ee(n){let e;return{c(){e=E("0 sats")},l(l){e=S(l,"0 sats")},m(l,r){w(l,e,r)},p:K,d(l){l&&f(e)}}}function Se(n){let e,l,r,a,t,i=se(n[0]),o=[];for(let s=0;s<i.length;s+=1)o[s]=ne(ie(n,i,s));return{c(){e=E(n[2]),l=C(),r=E(n[3]),a=C();for(let s=0;s<o.length;s+=1)o[s].c();t=le()},l(s){e=S(s,n[2]),l=H(s),r=S(s,n[3]),a=H(s);for(let c=0;c<o.length;c+=1)o[c].l(s);t=le()},m(s,c){w(s,e,c),w(s,l,c),w(s,r,c),w(s,a,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,c);w(s,t,c)},p(s,c){if(c&4&&N(e,s[2]),c&8&&N(r,s[3]),c&113){i=se(s[0]);let u;for(u=0;u<i.length;u+=1){const L=ie(s,i,u);o[u]?o[u].p(L,c):(o[u]=ne(L),o[u].c(),o[u].m(t.parentNode,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(s){s&&(f(e),f(l),f(r),f(a),f(t)),de(o,s)}}}function re(n){let e,l,r,a,t,i=n[14].waitBlocks+"",o;return{c(){e=p("img"),a=C(),t=p("b"),o=E(i),this.h()},l(s){e=b(s,"IMG",{src:!0,alt:!0}),a=H(s),t=b(s,"B",{});var c=B(t);o=S(c,i),c.forEach(f),this.h()},h(){pe(e.src,l=we)||T(e,"src",l),T(e,"alt",r=n[5]("ok"))},m(s,c){w(s,e,c),w(s,a,c),w(s,t,c),_(t,o)},p(s,c){c&32&&r!==(r=s[5]("ok"))&&T(e,"alt",r),c&1&&i!==(i=s[14].waitBlocks+"")&&N(o,i)},d(s){s&&(f(e),f(a),f(t))}}}function Te(n){let e,l=`<img src="${fe}"/>`,r,a;function t(){return n[9](n[14])}return{c(){e=p("button"),e.innerHTML=l},l(i){e=b(i,"BUTTON",{"data-svelte-h":!0}),oe(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(i,o){w(i,e,o),r||(a=ce(e,"click",t),r=!0)},p(i,o){n=i},d(i){i&&f(e),r=!1,a()}}}function ye(n){let e,l=`<img src="${fe}"/>`,r,a;function t(){return n[8](n[14])}return{c(){e=p("button"),e.innerHTML=l},l(i){e=b(i,"BUTTON",{"data-svelte-h":!0}),oe(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(i,o){w(i,e,o),r||(a=ce(e,"click",t),r=!0)},p(i,o){n=i},d(i){i&&f(e),r=!1,a()}}}function ae(n){let e,l=n[14].estimateUnlockDate+"",r;return{c(){e=p("p"),r=E(l)},l(a){e=b(a,"P",{});var t=B(e);r=S(t,l),t.forEach(f)},m(a,t){w(a,e,t),_(e,r)},p(a,t){t&1&&l!==(l=a[14].estimateUnlockDate+"")&&N(r,l)},d(a){a&&f(e)}}}function ne(n){let e,l,r,a,t,i,o=n[14].satoshis.toLocaleString()+"",s,c,u,L,A,U=(Number(n[14].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",R,O,P,h,m,G,V,D,I=n[14].txid+"",j,Y,q=n[14].vout+"",z,Z,k=n[4]>0&&n[14].waitBlocks>0&&re(n);function x(d,v){return d[14].waitBlocks<0?ye:Te}let J=x(n),y=J(n),g=n[4]>0&&n[14].waitBlocks>0&&ae(n);return{c(){e=p("table"),l=p("tr"),r=p("td"),k&&k.c(),a=C(),t=p("td"),i=p("b"),s=E(o),c=E(" sats "),u=p("br"),L=C(),A=p("i"),R=E(U),O=E(" BCH"),P=C(),h=p("tr"),m=p("td"),y.c(),G=C(),g&&g.c(),V=C(),D=p("td"),j=E(I),Y=E(":"),z=E(q),Z=C(),this.h()},l(d){e=b(d,"TABLE",{class:!0});var v=B(e);l=b(v,"TR",{});var Q=B(l);r=b(Q,"TD",{class:!0});var ee=B(r);k&&k.l(ee),ee.forEach(f),a=H(Q),t=b(Q,"TD",{class:!0});var M=B(t);i=b(M,"B",{});var te=B(i);s=S(te,o),te.forEach(f),c=S(M," sats "),u=b(M,"BR",{}),L=H(M),A=b(M,"I",{});var $=B(A);R=S($,U),O=S($," BCH"),$.forEach(f),M.forEach(f),Q.forEach(f),P=H(v),h=b(v,"TR",{});var W=B(h);m=b(W,"TD",{class:!0});var X=B(m);y.l(X),G=H(X),g&&g.l(X),X.forEach(f),V=H(W),D=b(W,"TD",{colspan:!0,style:!0,class:!0});var F=B(D);j=S(F,I),Y=S(F,":"),z=S(F,q),F.forEach(f),W.forEach(f),Z=H(v),v.forEach(f),this.h()},h(){T(r,"class","svelte-1lht9d3"),T(t,"class","svelte-1lht9d3"),T(m,"class","svelte-1lht9d3"),T(D,"colspan","3"),me(D,"line-break","anywhere"),T(D,"class","svelte-1lht9d3"),T(e,"class","svelte-1lht9d3")},m(d,v){w(d,e,v),_(e,l),_(l,r),k&&k.m(r,null),_(l,a),_(l,t),_(t,i),_(i,s),_(t,c),_(t,u),_(t,L),_(t,A),_(A,R),_(A,O),_(e,P),_(e,h),_(h,m),y.m(m,null),_(m,G),g&&g.m(m,null),_(h,V),_(h,D),_(D,j),_(D,Y),_(D,z),_(e,Z)},p(d,v){d[4]>0&&d[14].waitBlocks>0?k?k.p(d,v):(k=re(d),k.c(),k.m(r,null)):k&&(k.d(1),k=null),v&1&&o!==(o=d[14].satoshis.toLocaleString()+"")&&N(s,o),v&1&&U!==(U=(Number(d[14].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&N(R,U),J===(J=x(d))&&y?y.p(d,v):(y.d(1),y=J(d),y&&(y.c(),y.m(m,G))),d[4]>0&&d[14].waitBlocks>0?g?g.p(d,v):(g=ae(d),g.c(),g.m(m,null)):g&&(g.d(1),g=null),v&1&&I!==(I=d[14].txid+"")&&N(j,I),v&1&&q!==(q=d[14].vout+"")&&N(z,q)},d(d){d&&f(e),k&&k.d(),y.d(),g&&g.d()}}}function Le(n){let e;function l(t,i){return t[0]&&t[0].length>0?Se:!t[1]&&t[0].length==0?Ee:Be}let r=l(n),a=r(n);return{c(){e=p("section"),a.c(),this.h()},l(t){e=b(t,"SECTION",{class:!0});var i=B(e);a.l(i),i.forEach(f),this.h()},h(){T(e,"class","svelte-1lht9d3")},m(t,i){w(t,e,i),a.m(e,null)},p(t,[i]){r===(r=l(t))&&a?a.p(t,i):(a.d(1),a=r(t),a&&(a.c(),a.m(e,null)))},i:K,o:K,d(t){t&&f(e),a.d()}}}function De(n,e,l){let r;_e(n,ve,h=>l(5,r=h));let{receiptAddress:a=""}=e,t=[],i,o=!0,s=!1,c="",u="",L=-1,A=Date.now();he(async()=>{a&&(i||(i=new ge(4383,a,1500,96),i&&await R()))});const U=async h=>{s=!1;try{l(2,c=await i.execute(a,void 0,[h])),s=!0,l(3,u="")}catch(m){l(3,u=m)}},R=async()=>{l(0,t=await i.getUtxos()),l(4,L=await i.provider.getBlockHeight()),l(0,t=t.sort((h,m)=>h.height-m.height)),l(0,t=t.map(h=>{let m=h.height+4383-L;return{...h,estimateUnlockDate:new Date(A+m*6e5).toLocaleString(),waitBlocks:m}})),l(1,o=!1)},O=async h=>U(h),P=async h=>U(h);return n.$$set=h=>{"receiptAddress"in h&&l(7,a=h.receiptAddress)},[t,o,c,u,L,r,U,a,O,P]}class Me extends be{constructor(e){super(),ke(this,e,De,Le,ue,{receiptAddress:7})}}export{Me as U};
//# sourceMappingURL=UtxoSection.72ce34c3.js.map
