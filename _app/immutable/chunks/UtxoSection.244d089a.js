import{s as ke,f as d,g as h,h as T,d as u,j as g,i as w,C as Te,Q as we,r as X,a as D,c as C,J as Z,l as M,e as ne,m as N,n as j,X as Ee,T as te,k as pe,z as _,A as le,w as Be}from"./scheduler.0a456663.js";import{S as ye,i as Le,g as me,t as F,c as be,a as V,b as Se,d as De,m as Ce,e as Ue}from"./index.a39ae510.js";import{e as ce}from"./each.abf595da.js";import{P as He}from"./Record.42c6463d.js";import{$ as Re}from"./runtime.esm.400b09f5.js";import{l as ve}from"./lock_clock.5471ed23.js";import{t as Ae,C as Me}from"./CopyToClipboard.ae6f4741.js";const ge=""+new URL("../assets/arrow_split.b1074e57.svg",import.meta.url).href,Ne=""+new URL("../assets/copy.68b268c9.svg",import.meta.url).href;function fe(c,e,l){const r=c.slice();return r[15]=e[l],r}function Ie(c){let e;return{c(){e=d("progress"),this.h()},l(l){e=h(l,"PROGRESS",{id:!0,"aria-label":!0}),T(e).forEach(u),this.h()},h(){g(e,"id","progress-bar"),g(e,"aria-label","Content loadingâ€¦")},m(l,r){w(l,e,r)},p:X,i:X,o:X,d(l){l&&u(e)}}}function Pe(c){let e,l,r,f,a,i,n='<img width="300px" src="/h/13.svg" alt="send bitcoin"/>',t,s=c[1]&&ue(c);return{c(){s&&s.c(),e=D(),l=d("br"),r=D(),f=d("br"),a=D(),i=d("p"),i.innerHTML=n},l(o){s&&s.l(o),e=C(o),l=h(o,"BR",{}),r=C(o),f=h(o,"BR",{}),a=C(o),i=h(o,"P",{"data-svelte-h":!0}),Z(i)!=="svelte-ddgfha"&&(i.innerHTML=n)},m(o,b){s&&s.m(o,b),w(o,e,b),w(o,l,b),w(o,r,b),w(o,f,b),w(o,a,b),w(o,i,b),t=!0},p(o,b){o[1]?s?(s.p(o,b),b&2&&V(s,1)):(s=ue(o),s.c(),V(s,1),s.m(e.parentNode,e)):s&&(me(),F(s,1,1,()=>{s=null}),be())},i(o){t||(V(s),t=!0)},o(o){F(s),t=!1},d(o){o&&(u(e),u(l),u(r),u(f),u(a),u(i)),s&&s.d(o)}}}function Oe(c){let e,l,r,f,a,i=ce(c[0]),n=[];for(let t=0;t<i.length;t+=1)n[t]=he(fe(c,i,t));return{c(){e=M(c[3]),l=D(),r=M(c[4]),f=D();for(let t=0;t<n.length;t+=1)n[t].c();a=ne()},l(t){e=N(t,c[3]),l=C(t),r=N(t,c[4]),f=C(t);for(let s=0;s<n.length;s+=1)n[s].l(t);a=ne()},m(t,s){w(t,e,s),w(t,l,s),w(t,r,s),w(t,f,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,s);w(t,a,s)},p(t,s){if(s&8&&j(e,t[3]),s&16&&j(r,t[4]),s&225){i=ce(t[0]);let o;for(o=0;o<i.length;o+=1){const b=fe(t,i,o);n[o]?n[o].p(b,s):(n[o]=he(b),n[o].c(),n[o].m(a.parentNode,a))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},i:X,o:X,d(t){t&&(u(e),u(l),u(r),u(f),u(a)),Ee(n,t)}}}function ue(c){let e,l,r,f,a,i,n,t,s,o="<p><b>0 â‚¿</b></p>",b,U,E,R,P,I,B,p;return B=new Me({props:{text:c[1].getAddress(),$$slots:{default:[Ge,({copy:m})=>({18:m}),({copy:m})=>m?262144:0]},$$scope:{ctx:c}}}),B.$on("copy",c[11]),{c(){e=d("table"),l=d("tr"),r=d("td"),f=d("p"),a=d("img"),t=D(),s=d("td"),s.innerHTML=o,b=D(),U=d("tr"),E=d("td"),R=d("img"),I=D(),Se(B.$$.fragment),this.h()},l(m){e=h(m,"TABLE",{width:!0,class:!0});var v=T(e);l=h(v,"TR",{});var H=T(l);r=h(H,"TD",{class:!0});var O=T(r);f=h(O,"P",{});var G=T(f);a=h(G,"IMG",{src:!0,alt:!0}),G.forEach(u),O.forEach(u),t=C(H),s=h(H,"TD",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1bvc0bm"&&(s.innerHTML=o),H.forEach(u),b=C(v),U=h(v,"TR",{});var z=T(U);E=h(z,"TD",{style:!0,colspan:!0,class:!0});var q=T(E);R=h(q,"IMG",{src:!0}),I=C(q),De(B.$$.fragment,q),q.forEach(u),z.forEach(u),v.forEach(u),this.h()},h(){te(a.src,i=ve)||g(a,"src",i),g(a,"alt",n=c[6]("ok")),g(r,"class","svelte-1lht9d3"),g(s,"class","svelte-1lht9d3"),te(R.src,P=Ne)||g(R,"src",P),pe(E,"line-break","anywhere"),g(E,"colspan","2"),g(E,"class","svelte-1lht9d3"),g(e,"width","300px"),g(e,"class","svelte-1lht9d3")},m(m,v){w(m,e,v),_(e,l),_(l,r),_(r,f),_(f,a),_(l,t),_(l,s),_(e,b),_(e,U),_(U,E),_(E,R),_(E,I),Ce(B,E,null),p=!0},p(m,v){(!p||v&64&&n!==(n=m[6]("ok")))&&g(a,"alt",n);const H={};v&2&&(H.text=m[1].getAddress()),v&786434&&(H.$$scope={dirty:v,ctx:m}),B.$set(H)},i(m){p||(V(B.$$.fragment,m),p=!0)},o(m){F(B.$$.fragment,m),p=!1},d(m){m&&u(e),Ue(B)}}}function Ge(c){let e,l,r=c[1].getAddress()+"",f,a,i;return{c(){e=d("div"),l=d("button"),f=M(r),this.h()},l(n){e=h(n,"DIV",{class:!0});var t=T(e);l=h(t,"BUTTON",{});var s=T(l);f=N(s,r),s.forEach(u),t.forEach(u),this.h()},h(){g(e,"class","action svelte-1lht9d3")},m(n,t){w(n,e,t),_(e,l),_(l,f),a||(i=le(l,"click",function(){Be(c[18])&&c[18].apply(this,arguments)}),a=!0)},p(n,t){c=n,t&2&&r!==(r=c[1].getAddress()+"")&&j(f,r)},d(n){n&&u(e),a=!1,i()}}}function _e(c){let e,l,r,f,a,i=c[15].waitBlocks+"",n;return{c(){e=d("img"),f=D(),a=d("b"),n=M(i),this.h()},l(t){e=h(t,"IMG",{src:!0,alt:!0}),f=C(t),a=h(t,"B",{});var s=T(a);n=N(s,i),s.forEach(u),this.h()},h(){te(e.src,l=ve)||g(e,"src",l),g(e,"alt",r=c[6]("ok"))},m(t,s){w(t,e,s),w(t,f,s),w(t,a,s),_(a,n)},p(t,s){s&64&&r!==(r=t[6]("ok"))&&g(e,"alt",r),s&1&&i!==(i=t[15].waitBlocks+"")&&j(n,i)},d(t){t&&(u(e),u(f),u(a))}}}function qe(c){let e,l=`<img src="${ge}"/>`,r,f;function a(){return c[10](c[15])}return{c(){e=d("button"),e.innerHTML=l},l(i){e=h(i,"BUTTON",{"data-svelte-h":!0}),Z(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(i,n){w(i,e,n),r||(f=le(e,"click",a),r=!0)},p(i,n){c=i},d(i){i&&u(e),r=!1,f()}}}function je(c){let e,l=`<img src="${ge}"/>`,r,f;function a(){return c[9](c[15])}return{c(){e=d("button"),e.innerHTML=l},l(i){e=h(i,"BUTTON",{"data-svelte-h":!0}),Z(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(i,n){w(i,e,n),r||(f=le(e,"click",a),r=!0)},p(i,n){c=i},d(i){i&&u(e),r=!1,f()}}}function de(c){let e,l=c[15].estimateUnlockDate+"",r;return{c(){e=d("p"),r=M(l)},l(f){e=h(f,"P",{});var a=T(e);r=N(a,l),a.forEach(u)},m(f,a){w(f,e,a),_(e,r)},p(f,a){a&1&&l!==(l=f[15].estimateUnlockDate+"")&&j(r,l)},d(f){f&&u(e)}}}function he(c){let e,l,r,f,a,i,n=c[15].satoshis.toLocaleString()+"",t,s,o,b,U,E=(Number(c[15].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",R,P,I,B,p,m,v,H,O,G=(c[15].satoshis/96n).toLocaleString()+"",z,q,$,x,y=c[5]>0&&c[15].waitBlocks>0&&_e(c);function se(k,S){return k[15].waitBlocks<0?je:qe}let K=se(c),A=K(c),L=c[5]>0&&c[15].waitBlocks>0&&de(c);return{c(){e=d("table"),l=d("tr"),r=d("td"),y&&y.c(),f=D(),a=d("td"),i=d("b"),t=M(n),s=M(" sats "),o=d("br"),b=D(),U=d("i"),R=M(E),P=M(" BCH"),I=D(),B=d("tr"),p=d("td"),A.c(),m=D(),v=d("td"),L&&L.c(),H=D(),O=d("b"),z=M(G),q=M(" sats "),$=d("br"),x=D(),this.h()},l(k){e=h(k,"TABLE",{class:!0});var S=T(e);l=h(S,"TR",{});var W=T(l);r=h(W,"TD",{class:!0});var re=T(r);y&&y.l(re),re.forEach(u),f=C(W),a=h(W,"TD",{class:!0});var J=T(a);i=h(J,"B",{});var ie=T(i);t=N(ie,n),ie.forEach(u),s=N(J," sats "),o=h(J,"BR",{}),b=C(J),U=h(J,"I",{});var ee=T(U);R=N(ee,E),P=N(ee," BCH"),ee.forEach(u),J.forEach(u),W.forEach(u),I=C(S),B=h(S,"TR",{});var Y=T(B);p=h(Y,"TD",{class:!0});var ae=T(p);A.l(ae),ae.forEach(u),m=C(Y),v=h(Y,"TD",{colspan:!0,style:!0,class:!0});var Q=T(v);L&&L.l(Q),H=C(Q),O=h(Q,"B",{});var oe=T(O);z=N(oe,G),oe.forEach(u),q=N(Q," sats "),$=h(Q,"BR",{}),Q.forEach(u),Y.forEach(u),x=C(S),S.forEach(u),this.h()},h(){g(r,"class","svelte-1lht9d3"),g(a,"class","svelte-1lht9d3"),g(p,"class","svelte-1lht9d3"),g(v,"colspan","3"),pe(v,"line-break","anywhere"),g(v,"class","svelte-1lht9d3"),g(e,"class","svelte-1lht9d3")},m(k,S){w(k,e,S),_(e,l),_(l,r),y&&y.m(r,null),_(l,f),_(l,a),_(a,i),_(i,t),_(a,s),_(a,o),_(a,b),_(a,U),_(U,R),_(U,P),_(e,I),_(e,B),_(B,p),A.m(p,null),_(B,m),_(B,v),L&&L.m(v,null),_(v,H),_(v,O),_(O,z),_(v,q),_(v,$),_(e,x)},p(k,S){k[5]>0&&k[15].waitBlocks>0?y?y.p(k,S):(y=_e(k),y.c(),y.m(r,null)):y&&(y.d(1),y=null),S&1&&n!==(n=k[15].satoshis.toLocaleString()+"")&&j(t,n),S&1&&E!==(E=(Number(k[15].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&j(R,E),K===(K=se(k))&&A?A.p(k,S):(A.d(1),A=K(k),A&&(A.c(),A.m(p,null))),k[5]>0&&k[15].waitBlocks>0?L?L.p(k,S):(L=de(k),L.c(),L.m(v,H)):L&&(L.d(1),L=null),S&1&&G!==(G=(k[15].satoshis/96n).toLocaleString()+"")&&j(z,G)},d(k){k&&u(e),y&&y.d(),A.d(),L&&L.d()}}}function ze(c){let e,l,r,f;const a=[Oe,Pe,Ie],i=[];function n(t,s){return t[0]&&t[0].length>0?0:!t[2]&&t[0].length==0?1:2}return l=n(c),r=i[l]=a[l](c),{c(){e=d("section"),r.c(),this.h()},l(t){e=h(t,"SECTION",{class:!0});var s=T(e);r.l(s),s.forEach(u),this.h()},h(){g(e,"class","svelte-1lht9d3")},m(t,s){w(t,e,s),i[l].m(e,null),f=!0},p(t,[s]){let o=l;l=n(t),l===o?i[l].p(t,s):(me(),F(i[o],1,1,()=>{i[o]=null}),be(),r=i[l],r?r.p(t,s):(r=i[l]=a[l](t),r.c()),V(r,1),r.m(e,null))},i(t){f||(V(r),f=!0)},o(t){F(r),f=!1},d(t){t&&u(e),i[l].d()}}}function Je(c,e,l){let r;Te(c,Re,p=>l(6,r=p));let{receiptAddress:f=""}=e,a=[],i,n=!0,t=!1,s="",o="",b=-1,U=Date.now();we(async()=>{f&&(i||(l(1,i=new He(4383,f,1500,96)),i&&await R()))});const E=async p=>{t=!1;try{l(3,s=await i.execute(f,void 0,[p])),t=!0,l(4,o="")}catch(m){l(4,o=m)}},R=async()=>{l(0,a=await i.getUtxos()),l(5,b=await i.provider.getBlockHeight()),l(0,a=a.sort((p,m)=>p.height-m.height)),l(0,a=a.map(p=>{let m=p.height+4383-b;return{...p,estimateUnlockDate:new Date(U+m*6e5).toLocaleString(),waitBlocks:m}})),l(2,n=!1)},P=async p=>E(p),I=async p=>E(p),B=()=>Ae.push("ðŸ“‹ðŸ—¸");return c.$$set=p=>{"receiptAddress"in p&&l(8,f=p.receiptAddress)},[a,i,n,s,o,b,r,E,f,P,I,B]}class Ze extends ye{constructor(e){super(),Le(this,e,Je,ze,ke,{receiptAddress:8})}}export{Ze as U};
//# sourceMappingURL=UtxoSection.244d089a.js.map
