import{s as ae,L as Pe,N as Me,O as Se,P as Ue,Q as Ae,e as $,i as q,r as G,d as u,z as re,R as xe,f as m,a as B,g as b,h as T,w as F,c as C,j as v,y as d,E as ee,l as P,m as M,n as z,S as Ie,k as Re,T as me,F as Oe,U as Ne,B as ze}from"../chunks/scheduler.b90a6ede.js";import{S as ne,i as ce,a as N,t as X,c as be,b as je,d as Le,m as He,e as De,g as ve}from"../chunks/index.66b63657.js";import{p as Ve}from"../chunks/stores.8a168142.js";import{j as Xe}from"../chunks/singletons.4ce4e1c7.js";import{l as Fe}from"../chunks/lock_clock.7dae73f4.js";import{$ as Be}from"../chunks/runtime.esm.01b7223b.js";import{t as K}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.dedbcc7c.js";import{g as Ge,R as Qe,i as Je,b as Ke,l as We,s as Ye,r as ge,P as Ze,c as $e,a as et,d as tt}from"../chunks/store.0c4ba4fa.js";const st=Xe("goto"),lt=!1,rt=!0;async function at({url:a}){let e=a.searchParams.get("q")||void 0,s=a.searchParams.get("p")||void 0,l=a.searchParams.get("cashaddr")||void 0,t=a.searchParams.get("lockingBytecode")||void 0,r=a.searchParams.get("base58")||void 0;return{q:e,p:s,cashaddr:l,lockingBytecode:t,base58:r}}const Ut=Object.freeze(Object.defineProperty({__proto__:null,load:at,prerender:rt,ssr:lt},Symbol.toStringTag,{value:"Module"})),Ce=""+new URL("../assets/lock.97b1d0c7.svg",import.meta.url).href,nt=""+new URL("../assets/arrow_back.97a57b73.svg",import.meta.url).href,ct=""+new URL("../assets/arrow_down.61f0a2ba.svg",import.meta.url).href,ot=""+new URL("../assets/arrow_step.28ce36cd.svg",import.meta.url).href,it=""+new URL("../assets/month.7c119aa1.svg",import.meta.url).href,ut=a=>({}),ke=a=>({copy:a[0]});function ft(a){let e;const s=a[3].default,l=Pe(s,a,a[2],ke);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,r){l&&l.m(t,r),e=!0},p(t,[r]){l&&l.p&&(!e||r&4)&&Me(l,s,t,t[2],e?Ue(s,t[2],r,ut):Se(t[2]),ke)},i(t){e||(N(l,t),e=!0)},o(t){X(l,t),e=!1},d(t){l&&l.d(t)}}}function dt(a,e,s){let{$$slots:l={},$$scope:t}=e,{text:r}=e;const i=Ae(),n=()=>{console.log(r),navigator.clipboard.writeText(r).then(()=>i("copy",r),c=>i("fail"))};return a.$$set=c=>{"text"in c&&s(1,r=c.text),"$$scope"in c&&s(2,t=c.$$scope)},[n,r,t,l]}class _t extends ne{constructor(e){super(),ce(this,e,dt,ft,ae,{text:1})}}const pt=""+new URL("../assets/announce.fca45ce5.svg",import.meta.url).href;function ht(a){let e,s,l=`<img src="${pt}" alt="announce"/>`,t,r,i,n,c,o=!a[1]&&Te(),_=a[2]&&ye(a);return{c(){e=m("div"),s=m("button"),s.innerHTML=l,t=B(),o&&o.c(),r=B(),_&&_.c(),i=$(),this.h()},l(f){e=b(f,"DIV",{});var p=T(e);s=b(p,"BUTTON",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-xthcbf"&&(s.innerHTML=l),p.forEach(u),t=C(f),o&&o.l(f),r=C(f),_&&_.l(f),i=$(),this.h()},h(){v(s,"class","hitMe svelte-kwnyj0")},m(f,p){q(f,e,p),d(e,s),q(f,t,p),o&&o.m(f,p),q(f,r,p),_&&_.m(f,p),q(f,i,p),n||(c=ee(s,"click",a[4]),n=!0)},p(f,p){f[1]?o&&(o.d(1),o=null):o||(o=Te(),o.c(),o.m(r.parentNode,r)),f[2]?_?_.p(f,p):(_=ye(f),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null)},d(f){f&&(u(e),u(t),u(r),u(i)),o&&o.d(f),_&&_.d(f),n=!1,c()}}}function mt(a){let e,s,l=a[3]("ok")+"",t;return{c(){e=m("div"),s=m("button"),t=P(l),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=T(e);s=b(i,"BUTTON",{});var n=T(s);t=M(n,l),n.forEach(u),i.forEach(u),this.h()},h(){s.disabled=!0,v(e,"class","action")},m(r,i){q(r,e,i),d(e,s),d(s,t)},p(r,i){i&8&&l!==(l=r[3]("ok")+"")&&z(t,l)},d(r){r&&u(e)}}}function bt(a){let e,s='<button disabled=""><progress id="progress-bar" aria-label="Content loading…" class="svelte-kwnyj0"></progress></button>';return{c(){e=m("div"),e.innerHTML=s,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1qoxalt"&&(e.innerHTML=s),this.h()},h(){v(e,"class","action")},m(l,t){q(l,e,t)},p:G,d(l){l&&u(e)}}}function Te(a){let e;return{c(){e=m("progress"),this.h()},l(s){e=b(s,"PROGRESS",{id:!0,"aria-label":!0,class:!0}),T(e).forEach(u),this.h()},h(){v(e,"id","progress-bar"),v(e,"aria-label","Content loading…"),v(e,"class","svelte-kwnyj0")},m(s,l){q(s,e,l)},d(s){s&&u(e)}}}function ye(a){let e,s;return{c(){e=m("pre"),s=P(a[2])},l(l){e=b(l,"PRE",{});var t=T(e);s=M(t,a[2]),t.forEach(u)},m(l,t){q(l,e,t),d(e,s)},p(l,t){t&4&&z(s,l[2])},d(l){l&&u(e)}}}function vt(a){let e;function s(r,i){return r[0]==null?bt:r[0]==!0?mt:ht}let l=s(a),t=l(a);return{c(){t.c(),e=$()},l(r){t.l(r),e=$()},m(r,i){t.m(r,i),q(r,e,i)},p(r,[i]){l===(l=s(r))&&t?t.p(r,i):(t.d(1),t=l(r),t&&(t.c(),t.m(e.parentNode,e)))},i:G,o:G,d(r){r&&u(e),t.d(r)}}}function gt(a,e,s){let l;re(a,Be,g=>s(3,l=g));let{opReturnHex:t}=e,r="",i,n="",c,o=!0,_=!1,f="";xe(async()=>{t!==r&&(r=t,s(1,o=!0),_=!1,s(2,f=""),n="",await y())});function p(){s(1,o=!1),c=setInterval(()=>{},100)}function j(){s(1,o=!0),clearTimeout(c),s(0,i=!0)}const y=async()=>{if(t.length>0){let g=t.length>50?t.slice(0,50):t,h=await Ge("https://gql.chaingraph.pat.mn/v1/graphql",g);h=h.filter(L=>L==t),s(0,i=h.length>0),console.log("is published: ",i)}},k=async()=>{try{p(),_=!1;let g={network:"mainnet",version:2};n=await new Qe(void 0,void 0,g).broadcast(t),s(0,i=!0),_=!0,s(2,f=""),j()}catch(g){s(2,f=g),j()}};return a.$$set=g=>{"opReturnHex"in g&&s(5,t=g.opReturnHex)},[i,o,f,l,k,t]}class kt extends ne{constructor(e){super(),ce(this,e,gt,vt,ae,{opReturnHex:5})}}function Tt(a){let e;return{c(){e=m("td"),this.h()},l(s){e=b(s,"TD",{colspan:!0,class:!0}),T(e).forEach(u),this.h()},h(){v(e,"colspan","4"),v(e,"class","svelte-ecxjqp")},m(s,l){q(s,e,l)},p:G,d(s){s&&u(e)}}}function yt(a){let e,s,l,t,r=a[0].toLocaleString()+"",i,n,c,o,_,f=(Number(a[0])/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",p,j,y=a[1]>0&&Ee(a);return{c(){e=m("td"),y&&y.c(),s=B(),l=m("td"),t=m("b"),i=P(r),n=P(" sats "),c=m("br"),o=P(`
					(`),_=m("i"),p=P(f),j=P(" BCH)"),this.h()},l(k){e=b(k,"TD",{style:!0,class:!0});var g=T(e);y&&y.l(g),g.forEach(u),s=C(k),l=b(k,"TD",{colspan:!0,class:!0});var h=T(l);t=b(h,"B",{});var L=T(t);i=M(L,r),L.forEach(u),n=M(h," sats "),c=b(h,"BR",{}),o=M(h,`
					(`),_=b(h,"I",{});var w=T(_);p=M(w,f),w.forEach(u),j=M(h," BCH)"),h.forEach(u),this.h()},h(){Re(e,"text-align","center"),v(e,"class","svelte-ecxjqp"),v(l,"colspan","3"),v(l,"class","svelte-ecxjqp")},m(k,g){q(k,e,g),y&&y.m(e,null),q(k,s,g),q(k,l,g),d(l,t),d(t,i),d(l,n),d(l,c),d(l,o),d(l,_),d(_,p),d(l,j)},p(k,g){k[1]>0?y?y.p(k,g):(y=Ee(k),y.c(),y.m(e,null)):y&&(y.d(1),y=null),g&1&&r!==(r=k[0].toLocaleString()+"")&&z(i,r),g&1&&f!==(f=(Number(k[0])/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&z(p,f)},d(k){k&&(u(e),u(s),u(l)),y&&y.d()}}}function Ee(a){let e,s,l;return{c(){e=m("b"),s=P(a[1]),l=P(" UTXO(s)")},l(t){e=b(t,"B",{});var r=T(e);s=M(r,a[1]),l=M(r," UTXO(s)"),r.forEach(u)},m(t,r){q(t,e,r),d(e,s),d(e,l)},p(t,r){r&2&&z(s,t[1])},d(t){t&&u(e)}}}function Et(a){let e,s=`<img src="${Ce}" alt="lock"/>`,l,t,r=a[5]("create")+"",i;return{c(){e=m("td"),e.innerHTML=s,l=B(),t=m("td"),i=P(r),this.h()},l(n){e=b(n,"TD",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-caib4h"&&(e.innerHTML=s),l=C(n),t=b(n,"TD",{colspan:!0,class:!0});var c=T(t);i=M(c,r),c.forEach(u),this.h()},h(){v(e,"class","svelte-ecxjqp"),v(t,"colspan","4"),v(t,"class","svelte-ecxjqp")},m(n,c){q(n,e,c),q(n,l,c),q(n,t,c),d(t,i)},p(n,c){c&32&&r!==(r=n[5]("create")+"")&&z(i,r)},i:G,o:G,d(n){n&&(u(e),u(l),u(t))}}}function qt(a){let e,s=`<img src="${Ce}" alt="lock"/>`,l,t,r,i;return r=new _t({props:{text:a[3].getAddress(),$$slots:{default:[wt,({copy:n})=>({16:n}),({copy:n})=>n?65536:0]},$$scope:{ctx:a}}}),r.$on("copy",a[9]),{c(){e=m("td"),e.innerHTML=s,l=B(),t=m("td"),je(r.$$.fragment),this.h()},l(n){e=b(n,"TD",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-16devze"&&(e.innerHTML=s),l=C(n),t=b(n,"TD",{colspan:!0,class:!0});var c=T(t);Le(r.$$.fragment,c),c.forEach(u),this.h()},h(){v(e,"class","svelte-ecxjqp"),v(t,"colspan","3"),v(t,"class","svelte-ecxjqp")},m(n,c){q(n,e,c),q(n,l,c),q(n,t,c),He(r,t,null),i=!0},p(n,c){const o={};c&8&&(o.text=n[3].getAddress()),c&196616&&(o.$$scope={dirty:c,ctx:n}),r.$set(o)},i(n){i||(N(r.$$.fragment,n),i=!0)},o(n){X(r.$$.fragment,n),i=!1},d(n){n&&(u(e),u(l),u(t)),De(r)}}}function wt(a){let e,s,l=a[3].getAddress()+"",t,r,i;return{c(){e=m("div"),s=m("button"),t=P(l),this.h()},l(n){e=b(n,"DIV",{class:!0});var c=T(e);s=b(c,"BUTTON",{});var o=T(s);t=M(o,l),o.forEach(u),c.forEach(u),this.h()},h(){v(e,"class","action")},m(n,c){q(n,e,c),d(e,s),d(s,t),r||(i=ee(s,"click",function(){ze(a[16])&&a[16].apply(this,arguments)}),r=!0)},p(n,c){a=n,c&8&&l!==(l=a[3].getAddress()+"")&&z(t,l)},d(n){n&&u(e),r=!1,i()}}}function qe(a){let e,s,l=`<p class="svelte-ecxjqp">1 m
						<img src="${it}" alt="month"/> <img src="${Fe}" alt="lock_clock"/></p>`,t,r,i=`<p class="svelte-ecxjqp">1/96

						<img src="${ct}" alt="to"/></p>`,n,c,o=`<p class="svelte-ecxjqp">95/96
						<img src="${nt}" alt="back"/></p>`,_,f,p,j=new Intl.NumberFormat().format(1500)+"",y,k,g,h;return{c(){e=m("tr"),s=m("td"),s.innerHTML=l,t=B(),r=m("td"),r.innerHTML=i,n=B(),c=m("td"),c.innerHTML=o,_=B(),f=m("td"),p=m("p"),y=P(j),k=P(` sat
						`),g=m("img"),this.h()},l(L){e=b(L,"TR",{});var w=T(e);s=b(w,"TD",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-vkg8qv"&&(s.innerHTML=l),t=C(w),r=b(w,"TD",{class:!0,"data-svelte-h":!0}),F(r)!=="svelte-1d9zuvg"&&(r.innerHTML=i),n=C(w),c=b(w,"TD",{class:!0,"data-svelte-h":!0}),F(c)!=="svelte-9nk7q8"&&(c.innerHTML=o),_=C(w),f=b(w,"TD",{class:!0});var A=T(f);p=b(A,"P",{class:!0});var S=T(p);y=M(S,j),k=M(S,` sat
						`),g=b(S,"IMG",{src:!0,alt:!0}),S.forEach(u),A.forEach(u),w.forEach(u),this.h()},h(){v(s,"class","svelte-ecxjqp"),v(r,"class","svelte-ecxjqp"),v(c,"class","svelte-ecxjqp"),Ne(g.src,h=ot)||v(g,"src",h),v(g,"alt","step"),v(p,"class","svelte-ecxjqp"),v(f,"class","svelte-ecxjqp")},m(L,w){q(L,e,w),d(e,s),d(e,t),d(e,r),d(e,n),d(e,c),d(e,_),d(e,f),d(f,p),d(p,y),d(p,k),d(p,g)},p:G,d(L){L&&u(e)}}}function we(a){let e,s;return e=new kt({props:{opReturnHex:a[3].toOpReturn(!0)}}),{c(){je(e.$$.fragment)},l(l){Le(e.$$.fragment,l)},m(l,t){He(e,l,t),s=!0},p(l,t){const r={};t&8&&(r.opReturnHex=l[3].toOpReturn(!0)),e.$set(r)},i(l){s||(N(e.$$.fragment,l),s=!0)},o(l){X(e.$$.fragment,l),s=!1},d(l){De(e,l)}}}function Rt(a){let e,s,l,t,r,i,n,c,o,_,f,p,j,y,k,g=a[5]("receive")+"",h,L,w,A,S,te,V,x,J,se,oe;function ie(E,D){return E[0]?yt:Tt}let W=ie(a),U=W(a);const ue=[qt,Et],O=[];function fe(E,D){return E[3]?0:1}c=fe(a),o=O[c]=ue[c](a);let H=a[4]&&qe(),R=a[3]&&we(a);return{c(){e=m("meta"),s=B(),l=m("section"),t=m("table"),r=m("tr"),U.c(),i=B(),n=m("tr"),o.c(),_=B(),H&&H.c(),f=B(),p=m("tr"),j=m("td"),y=B(),k=m("td"),h=P(g),L=P(":"),w=B(),A=m("tr"),S=m("td"),R&&R.c(),te=B(),V=m("td"),x=m("textarea"),this.h()},l(E){const D=Ie("svelte-iflsr",document.head);e=b(D,"META",{name:!0,content:!0}),D.forEach(u),s=C(E),l=b(E,"SECTION",{class:!0});var Q=T(l);t=b(Q,"TABLE",{class:!0});var I=T(t);r=b(I,"TR",{});var de=T(r);U.l(de),de.forEach(u),i=C(I),n=b(I,"TR",{});var _e=T(n);o.l(_e),_e.forEach(u),_=C(I),H&&H.l(I),f=C(I),p=b(I,"TR",{});var Y=T(p);j=b(Y,"TD",{class:!0}),T(j).forEach(u),y=C(Y),k=b(Y,"TD",{style:!0,colspan:!0,class:!0});var le=T(k);h=M(le,g),L=M(le,":"),le.forEach(u),Y.forEach(u),w=C(I),A=b(I,"TR",{});var Z=T(A);S=b(Z,"TD",{class:!0});var pe=T(S);R&&R.l(pe),pe.forEach(u),te=C(Z),V=b(Z,"TD",{colspan:!0,class:!0});var he=T(V);x=b(he,"TEXTAREA",{id:!0,class:!0}),T(x).forEach(u),he.forEach(u),Z.forEach(u),I.forEach(u),Q.forEach(u),this.h()},h(){document.title="∑ ₿ᵪ",v(e,"name","description"),v(e,"content","Unspent Cash"),v(j,"class","svelte-ecxjqp"),Re(k,"line-break","auto"),v(k,"colspan","3"),v(k,"class","svelte-ecxjqp"),v(S,"class","svelte-ecxjqp"),v(x,"id","addr"),v(x,"class","svelte-ecxjqp"),v(V,"colspan","3"),v(V,"class","svelte-ecxjqp"),v(t,"class","svelte-ecxjqp"),v(l,"class","svelte-ecxjqp")},m(E,D){d(document.head,e),q(E,s,D),q(E,l,D),d(l,t),d(t,r),U.m(r,null),d(t,i),d(t,n),O[c].m(n,null),d(t,_),H&&H.m(t,null),d(t,f),d(t,p),d(p,j),d(p,y),d(p,k),d(k,h),d(k,L),d(t,w),d(t,A),d(A,S),R&&R.m(S,null),d(A,te),d(A,V),d(V,x),me(x,a[2]),J=!0,se||(oe=[ee(x,"change",a[10]),ee(x,"input",a[11])],se=!0)},p(E,[D]){W===(W=ie(E))&&U?U.p(E,D):(U.d(1),U=W(E),U&&(U.c(),U.m(r,null)));let Q=c;c=fe(E),c===Q?O[c].p(E,D):(ve(),X(O[Q],1,1,()=>{O[Q]=null}),be(),o=O[c],o?o.p(E,D):(o=O[c]=ue[c](E),o.c()),N(o,1),o.m(n,null)),E[4]?H?H.p(E,D):(H=qe(),H.c(),H.m(t,f)):H&&(H.d(1),H=null),(!J||D&32)&&g!==(g=E[5]("receive")+"")&&z(h,g),E[3]?R?(R.p(E,D),D&8&&N(R,1)):(R=we(E),R.c(),N(R,1),R.m(S,null)):R&&(ve(),X(R,1,1,()=>{R=null}),be()),D&4&&me(x,E[2])},i(E){J||(N(o),N(R),J=!0)},o(E){X(o),X(R),J=!1},d(E){E&&(u(s),u(l)),u(e),U.d(),O[c].d(),H&&H.d(),R&&R.d(),se=!1,Oe(oe)}}}function jt(a,e,s){let l,t;re(a,Ve,h=>s(12,l=h)),re(a,Be,h=>s(5,t=h));let{data:r}=e,{p:i}=e,n,c,o,_,f=!1;if(r.q&&!o){let h=Je(Ke(encodeURI(r.q)));o=We(h),f=!0,p()}r.p&&(i=r.p);async function p(){if(o)try{try{s(2,o=await Ye(o)),s(4,f=!0),ge.set(o)}catch(w){s(4,f=!1),w.message?K.push(w.message,{classes:["warn"]}):K.push(w,{classes:["warn"]})}s(3,_=new Ze(4383,o,1500,96));let h=$e(o).bytecode,L=decodeURI(et(tt(h)));l.url.searchParams.set("q",L),j(),st(`?${l.url.searchParams.toString()}`)}catch(h){s(3,_=void 0),h.message?K.push(h.message,{classes:["warn"]}):K.push(h,{classes:["warn"]})}else s(3,_=void 0),s(0,n=void 0)}const j=async()=>{_&&s(0,n=await _.getBalance()),_&&s(1,c=(await _.getUtxos()).length)};ge.subscribe(h=>{s(2,o=h),o&&!_&&p()});const y=()=>K.push("📋🗸"),k=()=>p();function g(){o=this.value,s(2,o)}return a.$$set=h=>{"data"in h&&s(8,r=h.data),"p"in h&&s(7,i=h.p)},[n,c,o,_,f,t,p,i,r,y,k,g]}class At extends ne{constructor(e){super(),ce(this,e,jt,Rt,ae,{data:8,p:7})}}export{At as component,Ut as universal};
//# sourceMappingURL=2.dc8cdfeb.js.map
