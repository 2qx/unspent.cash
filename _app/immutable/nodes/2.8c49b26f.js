import{s as ue,e as W,i as w,d as f,z as De,f as h,g as _,h as k,w as X,j as v,y as d,E as x,B as Me,Q as Pe,a as S,c as P,r as V,l as A,m as I,n as Q,R as Ae,k as Z,S as Te,F as Ie}from"../chunks/scheduler.02eebc4a.js";import{S as de,i as pe,a as N,g as le,t as O,c as re,b as ne,d as ae,m as oe,e as ce}from"../chunks/index.4a314fc0.js";import"../chunks/singletons.39fc94cc.js";import{m as Ne,a as Oe,b as Ue,c as qe}from"../chunks/BroadcastAction.svelte_svelte_type_style_lang.8fbcee6f.js";import{l as je}from"../chunks/lock_clock.7dae73f4.js";import{$ as ze}from"../chunks/runtime.esm.0321e7b4.js";import{t as K}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.c30a1758.js";import{C as Se}from"../chunks/CopyToClipboard.059a8859.js";import{b as Ve,d as $e,g as Xe,R as Fe,s as Ge,P as Qe,c as Je}from"../chunks/Record.4d744f19.js";import{p as Ke}from"../chunks/stores.855a96e2.js";import{r as Ee}from"../chunks/store.1f539acc.js";const We=!1,Ye=!0;async function Ze({url:a}){let e=a.searchParams.get("q")||void 0,t=a.searchParams.get("addr")||void 0;return{q:e,addr:t}}const Ct=Object.freeze(Object.defineProperty({__proto__:null,load:Ze,prerender:Ye,ssr:We},Symbol.toStringTag,{value:"Module"})),xe=""+new URL("../assets/announce.fca45ce5.svg",import.meta.url).href,et=""+new URL("../assets/share.6c6ae894.svg",import.meta.url).href;function we(a){let e,t;return e=new Se({props:{text:a[1],$$slots:{default:[tt,({copy:s})=>({4:s}),({copy:s})=>s?16:0]},$$scope:{ctx:a}}}),e.$on("copy",a[2]),{c(){ne(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const r={};l&2&&(r.text=s[1]),l&48&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function tt(a){let e,t,s=`<img src="${et}" alt="share"/>`,l,r;return{c(){e=h("div"),t=h("button"),t.innerHTML=s,this.h()},l(i){e=_(i,"DIV",{class:!0});var o=k(e);t=_(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-o8rp4l"&&(t.innerHTML=s),o.forEach(f),this.h()},h(){v(t,"class","hitMe svelte-95tolh"),v(e,"class","action")},m(i,o){w(i,e,o),d(e,t),l||(r=x(t,"click",function(){Me(a[4])&&a[4].apply(this,arguments)}),l=!0)},p(i,o){a=i},d(i){i&&f(e),l=!1,r()}}}function st(a){let e,t,s=a[0]&&we(a);return{c(){s&&s.c(),e=W()},l(l){s&&s.l(l),e=W()},m(l,r){s&&s.m(l,r),w(l,e,r),t=!0},p(l,[r]){l[0]?s?(s.p(l,r),r&1&&N(s,1)):(s=we(l),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(le(),O(s,1,1,()=>{s=null}),re())},i(l){t||(N(s),t=!0)},o(l){O(s),t=!1},d(l){l&&f(e),s&&s.d(l)}}}function lt(a,e,t){let s;De(a,Ke,o=>t(3,s=o));let{lockingBytecode:l}=e,r;if(l){let o=decodeURI(Ve($e(l)));s.url.searchParams.set("q",o),r="https://"+s.url.host+"/s?"+s.url.searchParams.toString()}const i=()=>K.push("link copied");return a.$$set=o=>{"lockingBytecode"in o&&t(0,l=o.lockingBytecode)},[l,r,i]}class rt extends de{constructor(e){super(),pe(this,e,lt,st,ue,{lockingBytecode:0})}}function nt(a){let e,t,s=`<img src="${xe}" alt="announce"/>`,l,r,i,o,n,c=!a[2]&&Be(),p=a[3]&&Re(a);return{c(){e=h("div"),t=h("button"),t.innerHTML=s,l=S(),c&&c.c(),r=S(),p&&p.c(),i=W(),this.h()},l(u){e=_(u,"DIV",{});var m=k(e);t=_(m,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-xthcbf"&&(t.innerHTML=s),m.forEach(f),l=P(u),c&&c.l(u),r=P(u),p&&p.l(u),i=W(),this.h()},h(){v(t,"class","hitMe svelte-kwnyj0")},m(u,m){w(u,e,m),d(e,t),w(u,l,m),c&&c.m(u,m),w(u,r,m),p&&p.m(u,m),w(u,i,m),o||(n=x(t,"click",a[4]),o=!0)},p(u,m){u[2]?c&&(c.d(1),c=null):c||(c=Be(),c.c(),c.m(r.parentNode,r)),u[3]?p?p.p(u,m):(p=Re(u),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null)},i:V,o:V,d(u){u&&(f(e),f(l),f(r),f(i)),c&&c.d(u),p&&p.d(u),o=!1,n()}}}function at(a){let e,t,s;return t=new rt({props:{lockingBytecode:a[0]}}),{c(){e=h("div"),ne(t.$$.fragment),this.h()},l(l){e=_(l,"DIV",{class:!0});var r=k(e);ae(t.$$.fragment,r),r.forEach(f),this.h()},h(){v(e,"class","action")},m(l,r){w(l,e,r),oe(t,e,null),s=!0},p(l,r){const i={};r&1&&(i.lockingBytecode=l[0]),t.$set(i)},i(l){s||(N(t.$$.fragment,l),s=!0)},o(l){O(t.$$.fragment,l),s=!1},d(l){l&&f(e),ce(t)}}}function ot(a){let e,t='<button disabled=""><progress id="progress-bar" aria-label="Content loading…" class="svelte-kwnyj0"></progress></button>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1qoxalt"&&(e.innerHTML=t),this.h()},h(){v(e,"class","action")},m(s,l){w(s,e,l)},p:V,i:V,o:V,d(s){s&&f(e)}}}function Be(a){let e;return{c(){e=h("progress"),this.h()},l(t){e=_(t,"PROGRESS",{id:!0,"aria-label":!0,class:!0}),k(e).forEach(f),this.h()},h(){v(e,"id","progress-bar"),v(e,"aria-label","Content loading…"),v(e,"class","svelte-kwnyj0")},m(t,s){w(t,e,s)},d(t){t&&f(e)}}}function Re(a){let e,t;return{c(){e=h("pre"),t=A(a[3])},l(s){e=_(s,"PRE",{});var l=k(e);t=I(l,a[3]),l.forEach(f)},m(s,l){w(s,e,l),d(e,t)},p(s,l){l&8&&Q(t,s[3])},d(s){s&&f(e)}}}function ct(a){let e,t,s,l;const r=[ot,at,nt],i=[];function o(n,c){return n[1]==null?0:n[1]==!0?1:2}return e=o(a),t=i[e]=r[e](a),{c(){t.c(),s=W()},l(n){t.l(n),s=W()},m(n,c){i[e].m(n,c),w(n,s,c),l=!0},p(n,[c]){let p=e;e=o(n),e===p?i[e].p(n,c):(le(),O(i[p],1,1,()=>{i[p]=null}),re(),t=i[e],t?t.p(n,c):(t=i[e]=r[e](n),t.c()),N(t,1),t.m(s.parentNode,s))},i(n){l||(N(t),l=!0)},o(n){O(t),l=!1},d(n){n&&f(s),i[e].d(n)}}}function it(a,e,t){let{opReturnHex:s}=e,{lockingBytecode:l}=e,r="",i,o="",n,c=!0,p=!1,u="";Pe(async()=>{s!==r&&(r=s,t(2,c=!0),p=!1,t(3,u=""),o="",await T())});function m(){t(2,c=!1),n=setInterval(()=>{},100)}function L(){t(2,c=!0),clearTimeout(n),t(1,i=!0)}const T=async()=>{if(s.length>0){let g=s.length>60?s.slice(0,60):s,b=await Xe("https://demo.chaingraph.cash/v1/graphql",g);b=b.filter(H=>H==s),t(1,i=b.length>0),console.log("is published: ",i)}},y=async()=>{try{m(),p=!1;let g={network:"mainnet",version:2};o=await new Fe(void 0,void 0,g).broadcast(s),t(1,i=!0),p=!0,t(3,u=""),L()}catch(g){t(3,u=g),L()}};return a.$$set=g=>{"opReturnHex"in g&&t(5,s=g.opReturnHex),"lockingBytecode"in g&&t(0,l=g.lockingBytecode)},[l,i,c,u,y,s]}class ft extends de{constructor(e){super(),pe(this,e,it,ct,ue,{opReturnHex:5,lockingBytecode:0})}}function ut(a){let e;return{c(){e=h("td"),this.h()},l(t){e=_(t,"TD",{colspan:!0,class:!0}),k(e).forEach(f),this.h()},h(){v(e,"colspan","4"),v(e,"class","svelte-ph5yes")},m(t,s){w(t,e,s)},p:V,d(t){t&&f(e)}}}function dt(a){let e,t,s,l,r=a[0].toLocaleString()+"",i,o,n,c,p,u=(Number(a[0])/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",m,L,T=a[1]>0&&He(a);return{c(){e=h("td"),T&&T.c(),t=S(),s=h("td"),l=h("b"),i=A(r),o=A(" sats "),n=h("br"),c=A(`
					(`),p=h("i"),m=A(u),L=A(" BCH)"),this.h()},l(y){e=_(y,"TD",{style:!0,class:!0});var g=k(e);T&&T.l(g),g.forEach(f),t=P(y),s=_(y,"TD",{colspan:!0,class:!0});var b=k(s);l=_(b,"B",{});var H=k(l);i=I(H,r),H.forEach(f),o=I(b," sats "),n=_(b,"BR",{}),c=I(b,`
					(`),p=_(b,"I",{});var C=k(p);m=I(C,u),C.forEach(f),L=I(b," BCH)"),b.forEach(f),this.h()},h(){Z(e,"text-align","center"),v(e,"class","svelte-ph5yes"),v(s,"colspan","3"),v(s,"class","svelte-ph5yes")},m(y,g){w(y,e,g),T&&T.m(e,null),w(y,t,g),w(y,s,g),d(s,l),d(l,i),d(s,o),d(s,n),d(s,c),d(s,p),d(p,m),d(s,L)},p(y,g){y[1]>0?T?T.p(y,g):(T=He(y),T.c(),T.m(e,null)):T&&(T.d(1),T=null),g&1&&r!==(r=y[0].toLocaleString()+"")&&Q(i,r),g&1&&u!==(u=(Number(y[0])/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&Q(m,u)},d(y){y&&(f(e),f(t),f(s)),T&&T.d()}}}function He(a){let e,t,s;return{c(){e=h("b"),t=A(a[1]),s=A(" UTXO(s)")},l(l){e=_(l,"B",{});var r=k(e);t=I(r,a[1]),s=I(r," UTXO(s)"),r.forEach(f)},m(l,r){w(l,e,r),d(e,t),d(e,s)},p(l,r){r&2&&Q(t,l[1])},d(l){l&&f(e)}}}function pt(a){let e,t=a[6]("create")+"",s;return{c(){e=h("td"),s=A(t),this.h()},l(l){e=_(l,"TD",{colspan:!0,class:!0});var r=k(e);s=I(r,t),r.forEach(f),this.h()},h(){v(e,"colspan","4"),v(e,"class","svelte-ph5yes")},m(l,r){w(l,e,r),d(e,s)},p(l,r){r&64&&t!==(t=l[6]("create")+"")&&Q(s,t)},i:V,o:V,d(l){l&&f(e)}}}function ht(a){let e,t=`<p class="svelte-ph5yes"><img src="${je}" alt="lock_clock"/></p>`,s,l,r,i;return r=new Se({props:{text:a[3].getAddress(),$$slots:{default:[_t,({copy:o})=>({16:o}),({copy:o})=>o?65536:0]},$$scope:{ctx:a}}}),r.$on("copy",a[10]),{c(){e=h("td"),e.innerHTML=t,s=S(),l=h("td"),ne(r.$$.fragment),this.h()},l(o){e=_(o,"TD",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-dwf5t0"&&(e.innerHTML=t),s=P(o),l=_(o,"TD",{colspan:!0,class:!0});var n=k(l);ae(r.$$.fragment,n),n.forEach(f),this.h()},h(){v(e,"class","svelte-ph5yes"),v(l,"colspan","3"),v(l,"class","svelte-ph5yes")},m(o,n){w(o,e,n),w(o,s,n),w(o,l,n),oe(r,l,null),i=!0},p(o,n){const c={};n&8&&(c.text=o[3].getAddress()),n&196616&&(c.$$scope={dirty:n,ctx:o}),r.$set(c)},i(o){i||(N(r.$$.fragment,o),i=!0)},o(o){O(r.$$.fragment,o),i=!1},d(o){o&&(f(e),f(s),f(l)),ce(r)}}}function _t(a){let e,t,s=a[3].getAddress()+"",l,r,i;return{c(){e=h("div"),t=h("button"),l=A(s),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=k(e);t=_(n,"BUTTON",{});var c=k(t);l=I(c,s),c.forEach(f),n.forEach(f),this.h()},h(){v(e,"class","action")},m(o,n){w(o,e,n),d(e,t),d(t,l),r||(i=x(t,"click",function(){Me(a[16])&&a[16].apply(this,arguments)}),r=!0)},p(o,n){a=o,n&8&&s!==(s=a[3].getAddress()+"")&&Q(l,s)},d(o){o&&f(e),r=!1,i()}}}function Le(a){let e,t,s='<p class="svelte-ph5yes">1 m; 4383 blocks</p>',l,r,i='<p class="svelte-ph5yes">1/96</p>',o,n,c='<p class="svelte-ph5yes">95/96</p>',p,u,m,L=new Intl.NumberFormat().format(1500)+"",T,y,g,b,H=`<td class="svelte-ph5yes"><p class="svelte-ph5yes"><img src="${Ne}" alt="month"/></p></td> <td class="svelte-ph5yes"><p class="svelte-ph5yes"><img src="${Oe}" alt="to"/></p></td> <td class="svelte-ph5yes"><p class="svelte-ph5yes"><img src="${Ue}" alt="back"/></p></td> <td class="svelte-ph5yes"><p class="svelte-ph5yes"><img src="${qe}" alt="step"/></p></td>`;return{c(){e=h("tr"),t=h("td"),t.innerHTML=s,l=S(),r=h("td"),r.innerHTML=i,o=S(),n=h("td"),n.innerHTML=c,p=S(),u=h("td"),m=h("p"),T=A(L),y=A(" sat"),g=S(),b=h("tr"),b.innerHTML=H,this.h()},l(C){e=_(C,"TR",{style:!0});var B=k(e);t=_(B,"TD",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-10pdzxv"&&(t.innerHTML=s),l=P(B),r=_(B,"TD",{style:!0,class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1dx27gv"&&(r.innerHTML=i),o=P(B),n=_(B,"TD",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-briqzc"&&(n.innerHTML=c),p=P(B),u=_(B,"TD",{class:!0});var q=k(u);m=_(q,"P",{class:!0});var F=k(m);T=I(F,L),y=I(F," sat"),F.forEach(f),q.forEach(f),B.forEach(f),g=P(C),b=_(C,"TR",{style:!0,"data-svelte-h":!0}),X(b)!=="svelte-1npoznb"&&(b.innerHTML=H),this.h()},h(){v(t,"class","svelte-ph5yes"),Z(r,"max-width","40px"),v(r,"class","svelte-ph5yes"),v(n,"class","svelte-ph5yes"),v(m,"class","svelte-ph5yes"),v(u,"class","svelte-ph5yes"),Z(e,"background-color","lightgray"),Z(b,"background-color","lightgray")},m(C,B){w(C,e,B),d(e,t),d(e,l),d(e,r),d(e,o),d(e,n),d(e,p),d(e,u),d(u,m),d(m,T),d(m,y),w(C,g,B),w(C,b,B)},p:V,d(C){C&&(f(e),f(g),f(b))}}}function Ce(a){let e,t,s;return t=new ft({props:{opReturnHex:a[3].toOpReturn(!0),lockingBytecode:a[5]}}),{c(){e=h("p"),ne(t.$$.fragment),this.h()},l(l){e=_(l,"P",{class:!0});var r=k(e);ae(t.$$.fragment,r),r.forEach(f),this.h()},h(){v(e,"class","svelte-ph5yes")},m(l,r){w(l,e,r),oe(t,e,null),s=!0},p(l,r){const i={};r&8&&(i.opReturnHex=l[3].toOpReturn(!0)),r&32&&(i.lockingBytecode=l[5]),t.$set(i)},i(l){s||(N(t.$$.fragment,l),s=!0)},o(l){O(t.$$.fragment,l),s=!1},d(l){l&&f(e),ce(t)}}}function mt(a){let e,t,s,l,r,i,o,n,c,p,u,m,L,T,y,g=a[6]("receive")+"",b,H,C,B,q,F,G,j,Y,ie,he;function _e(E,M){return E[0]?dt:ut}let ee=_e(a),U=ee(a);const me=[ht,pt],$=[];function be(E,M){return E[3]?0:1}n=be(a),c=$[n]=me[n](a);let D=a[4]&&Le(),R=a[3]&&Ce(a);return{c(){e=h("meta"),t=S(),s=h("section"),l=h("table"),r=h("tr"),U.c(),i=S(),o=h("tr"),c.c(),p=S(),D&&D.c(),u=S(),m=h("tr"),L=h("td"),T=S(),y=h("td"),b=A(g),H=A(":"),C=S(),B=h("tr"),q=h("td"),R&&R.c(),F=S(),G=h("td"),j=h("textarea"),this.h()},l(E){const M=Ae("svelte-iflsr",document.head);e=_(M,"META",{name:!0,content:!0}),M.forEach(f),t=P(E),s=_(E,"SECTION",{class:!0});var J=k(s);l=_(J,"TABLE",{class:!0});var z=k(l);r=_(z,"TR",{});var ve=k(r);U.l(ve),ve.forEach(f),i=P(z),o=_(z,"TR",{});var ge=k(o);c.l(ge),ge.forEach(f),p=P(z),D&&D.l(z),u=P(z),m=_(z,"TR",{});var te=k(m);L=_(te,"TD",{class:!0}),k(L).forEach(f),T=P(te),y=_(te,"TD",{style:!0,colspan:!0,class:!0});var fe=k(y);b=I(fe,g),H=I(fe,":"),fe.forEach(f),te.forEach(f),C=P(z),B=_(z,"TR",{});var se=k(B);q=_(se,"TD",{class:!0});var ye=k(q);R&&R.l(ye),ye.forEach(f),F=P(se),G=_(se,"TD",{colspan:!0,class:!0});var ke=k(G);j=_(ke,"TEXTAREA",{id:!0,class:!0}),k(j).forEach(f),ke.forEach(f),se.forEach(f),z.forEach(f),J.forEach(f),this.h()},h(){document.title="∑ ₿ᵪ",v(e,"name","description"),v(e,"content","Unspent Cash"),v(L,"class","svelte-ph5yes"),Z(y,"line-break","auto"),v(y,"colspan","3"),v(y,"class","svelte-ph5yes"),v(q,"class","svelte-ph5yes"),v(j,"id","addr"),v(j,"class","svelte-ph5yes"),v(G,"colspan","3"),v(G,"class","svelte-ph5yes"),v(l,"class","svelte-ph5yes"),v(s,"class","svelte-ph5yes")},m(E,M){d(document.head,e),w(E,t,M),w(E,s,M),d(s,l),d(l,r),U.m(r,null),d(l,i),d(l,o),$[n].m(o,null),d(l,p),D&&D.m(l,null),d(l,u),d(l,m),d(m,L),d(m,T),d(m,y),d(y,b),d(y,H),d(l,C),d(l,B),d(B,q),R&&R.m(q,null),d(B,F),d(B,G),d(G,j),Te(j,a[2]),Y=!0,ie||(he=[x(j,"change",a[11]),x(j,"input",a[12])],ie=!0)},p(E,[M]){ee===(ee=_e(E))&&U?U.p(E,M):(U.d(1),U=ee(E),U&&(U.c(),U.m(r,null)));let J=n;n=be(E),n===J?$[n].p(E,M):(le(),O($[J],1,1,()=>{$[J]=null}),re(),c=$[n],c?c.p(E,M):(c=$[n]=me[n](E),c.c()),N(c,1),c.m(o,null)),E[4]?D?D.p(E,M):(D=Le(),D.c(),D.m(l,u)):D&&(D.d(1),D=null),(!Y||M&64)&&g!==(g=E[6]("receive")+"")&&Q(b,g),E[3]?R?(R.p(E,M),M&8&&N(R,1)):(R=Ce(E),R.c(),N(R,1),R.m(q,null)):R&&(le(),O(R,1,1,()=>{R=null}),re()),M&4&&Te(j,E[2])},i(E){Y||(N(c),N(R),Y=!0)},o(E){O(c),O(R),Y=!1},d(E){E&&(f(t),f(s)),f(e),U.d(),$[n].d(),D&&D.d(),R&&R.d(),ie=!1,Ie(he)}}}function bt(a,e,t){let s;De(a,ze,b=>t(6,s=b));let{data:l}=e,{p:r}=e,i,o,n,c,p=!1,u;async function m(b=!0){if(n)try{try{t(2,n=await Ge(n)),t(4,p=!0),b&&Ee.set(n)}catch(H){t(4,p=!1),H.message?K.push(H.message,{classes:["warn"]}):K.push(H,{classes:["warn"]})}t(3,c=new Qe(4383,n,1500,96)),L(),t(5,u=Je(n).bytecode)}catch(H){t(3,c=void 0),H.message?K.push(H.message,{classes:["warn"]}):K.push(H,{classes:["warn"]})}else t(3,c=void 0),t(0,i=void 0)}const L=async()=>{c&&t(0,i=await c.getBalance()),c&&t(1,o=(await c.getUtxos()).length)};Ee.subscribe(b=>{t(2,n=b),n&&!c&&m()});const T=()=>K.push("📋🗸"),y=()=>m();function g(){n=this.value,t(2,n)}return a.$$set=b=>{"data"in b&&t(8,l=b.data),"p"in b&&t(9,r=b.p)},[i,o,n,c,p,u,s,m,l,r,T,y,g]}class Dt extends de{constructor(e){super(),pe(this,e,bt,mt,ue,{data:8,p:9})}}export{Dt as component,Ct as universal};
//# sourceMappingURL=2.8c49b26f.js.map
