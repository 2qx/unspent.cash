import{s as ke,f as d,g as h,h as y,d as u,j as g,i as T,C as ye,Q as Te,r as X,a as D,c as C,J as Z,l as M,e as ne,m as N,n as j,X as we,T as te,k as pe,z as _,A as le,w as Ee}from"./scheduler.0a456663.js";import{S as Be,i as Le,g as me,t as F,c as be,a as V,b as Se,d as De,m as Ce,e as Ue}from"./index.a39ae510.js";import{e as ce}from"./each.abf595da.js";import{P as He}from"./Record.2205ec6b.js";import{$ as Re}from"./runtime.esm.400b09f5.js";import{l as ve}from"./lock_clock.5471ed23.js";import{t as Ae,C as Me}from"./CopyToClipboard.ae6f4741.js";const ge=""+new URL("../assets/arrow_split.b1074e57.svg",import.meta.url).href,Ne=""+new URL("../assets/copy.68b268c9.svg",import.meta.url).href;function fe(c,e,l){const r=c.slice();return r[15]=e[l],r}function Ie(c){let e;return{c(){e=d("progress"),this.h()},l(l){e=h(l,"PROGRESS",{id:!0,"aria-label":!0}),y(e).forEach(u),this.h()},h(){g(e,"id","progress-bar"),g(e,"aria-label","Content loadingâ€¦")},m(l,r){T(l,e,r)},p:X,i:X,o:X,d(l){l&&u(e)}}}function Pe(c){let e,l,r,f,i,o,n='<img width="300px" src="/h/13.svg" alt="send bitcoin"/>',t,s=c[1]&&ue(c);return{c(){s&&s.c(),e=D(),l=d("br"),r=D(),f=d("br"),i=D(),o=d("p"),o.innerHTML=n},l(a){s&&s.l(a),e=C(a),l=h(a,"BR",{}),r=C(a),f=h(a,"BR",{}),i=C(a),o=h(a,"P",{"data-svelte-h":!0}),Z(o)!=="svelte-ddgfha"&&(o.innerHTML=n)},m(a,b){s&&s.m(a,b),T(a,e,b),T(a,l,b),T(a,r,b),T(a,f,b),T(a,i,b),T(a,o,b),t=!0},p(a,b){a[1]?s?(s.p(a,b),b&2&&V(s,1)):(s=ue(a),s.c(),V(s,1),s.m(e.parentNode,e)):s&&(me(),F(s,1,1,()=>{s=null}),be())},i(a){t||(V(s),t=!0)},o(a){F(s),t=!1},d(a){a&&(u(e),u(l),u(r),u(f),u(i),u(o)),s&&s.d(a)}}}function Oe(c){let e,l,r,f,i,o=ce(c[0]),n=[];for(let t=0;t<o.length;t+=1)n[t]=he(fe(c,o,t));return{c(){e=M(c[3]),l=D(),r=M(c[4]),f=D();for(let t=0;t<n.length;t+=1)n[t].c();i=ne()},l(t){e=N(t,c[3]),l=C(t),r=N(t,c[4]),f=C(t);for(let s=0;s<n.length;s+=1)n[s].l(t);i=ne()},m(t,s){T(t,e,s),T(t,l,s),T(t,r,s),T(t,f,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,s);T(t,i,s)},p(t,s){if(s&8&&j(e,t[3]),s&16&&j(r,t[4]),s&225){o=ce(t[0]);let a;for(a=0;a<o.length;a+=1){const b=fe(t,o,a);n[a]?n[a].p(b,s):(n[a]=he(b),n[a].c(),n[a].m(i.parentNode,i))}for(;a<n.length;a+=1)n[a].d(1);n.length=o.length}},i:X,o:X,d(t){t&&(u(e),u(l),u(r),u(f),u(i)),we(n,t)}}}function ue(c){let e,l,r,f,i,o,n,t,s,a="<p><b>0 â‚¿</b></p>",b,U,w,R,P,I,E,p;return E=new Me({props:{text:c[1].getAddress(),$$slots:{default:[Ge,({copy:m})=>({18:m}),({copy:m})=>m?262144:0]},$$scope:{ctx:c}}}),E.$on("copy",c[11]),{c(){e=d("table"),l=d("tr"),r=d("td"),f=d("p"),i=d("img"),t=D(),s=d("td"),s.innerHTML=a,b=D(),U=d("tr"),w=d("td"),R=d("img"),I=D(),Se(E.$$.fragment),this.h()},l(m){e=h(m,"TABLE",{width:!0,class:!0});var v=y(e);l=h(v,"TR",{});var H=y(l);r=h(H,"TD",{class:!0});var O=y(r);f=h(O,"P",{});var G=y(f);i=h(G,"IMG",{src:!0,alt:!0}),G.forEach(u),O.forEach(u),t=C(H),s=h(H,"TD",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1bvc0bm"&&(s.innerHTML=a),H.forEach(u),b=C(v),U=h(v,"TR",{});var z=y(U);w=h(z,"TD",{style:!0,colspan:!0,class:!0});var q=y(w);R=h(q,"IMG",{src:!0}),I=C(q),De(E.$$.fragment,q),q.forEach(u),z.forEach(u),v.forEach(u),this.h()},h(){te(i.src,o=ve)||g(i,"src",o),g(i,"alt",n=c[6]("ok")),g(r,"class","svelte-vfoyeb"),g(s,"class","svelte-vfoyeb"),te(R.src,P=Ne)||g(R,"src",P),pe(w,"line-break","anywhere"),g(w,"colspan","2"),g(w,"class","svelte-vfoyeb"),g(e,"width","300px"),g(e,"class","svelte-vfoyeb")},m(m,v){T(m,e,v),_(e,l),_(l,r),_(r,f),_(f,i),_(l,t),_(l,s),_(e,b),_(e,U),_(U,w),_(w,R),_(w,I),Ce(E,w,null),p=!0},p(m,v){(!p||v&64&&n!==(n=m[6]("ok")))&&g(i,"alt",n);const H={};v&2&&(H.text=m[1].getAddress()),v&786434&&(H.$$scope={dirty:v,ctx:m}),E.$set(H)},i(m){p||(V(E.$$.fragment,m),p=!0)},o(m){F(E.$$.fragment,m),p=!1},d(m){m&&u(e),Ue(E)}}}function Ge(c){let e,l,r=c[1].getAddress()+"",f,i,o;return{c(){e=d("div"),l=d("button"),f=M(r),this.h()},l(n){e=h(n,"DIV",{class:!0});var t=y(e);l=h(t,"BUTTON",{class:!0});var s=y(l);f=N(s,r),s.forEach(u),t.forEach(u),this.h()},h(){g(l,"class","styled svelte-vfoyeb"),g(e,"class","action svelte-vfoyeb")},m(n,t){T(n,e,t),_(e,l),_(l,f),i||(o=le(l,"click",function(){Ee(c[18])&&c[18].apply(this,arguments)}),i=!0)},p(n,t){c=n,t&2&&r!==(r=c[1].getAddress()+"")&&j(f,r)},d(n){n&&u(e),i=!1,o()}}}function _e(c){let e,l,r,f,i,o=c[15].waitBlocks+"",n;return{c(){e=d("img"),f=D(),i=d("b"),n=M(o),this.h()},l(t){e=h(t,"IMG",{src:!0,alt:!0}),f=C(t),i=h(t,"B",{});var s=y(i);n=N(s,o),s.forEach(u),this.h()},h(){te(e.src,l=ve)||g(e,"src",l),g(e,"alt",r=c[6]("ok"))},m(t,s){T(t,e,s),T(t,f,s),T(t,i,s),_(i,n)},p(t,s){s&64&&r!==(r=t[6]("ok"))&&g(e,"alt",r),s&1&&o!==(o=t[15].waitBlocks+"")&&j(n,o)},d(t){t&&(u(e),u(f),u(i))}}}function qe(c){let e,l=`<img src="${ge}"/>`,r,f;function i(){return c[10](c[15])}return{c(){e=d("button"),e.innerHTML=l},l(o){e=h(o,"BUTTON",{"data-svelte-h":!0}),Z(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(o,n){T(o,e,n),r||(f=le(e,"click",i),r=!0)},p(o,n){c=o},d(o){o&&u(e),r=!1,f()}}}function je(c){let e,l=`<img src="${ge}"/>`,r,f;function i(){return c[9](c[15])}return{c(){e=d("button"),e.innerHTML=l},l(o){e=h(o,"BUTTON",{"data-svelte-h":!0}),Z(e)!=="svelte-ulnfbr"&&(e.innerHTML=l)},m(o,n){T(o,e,n),r||(f=le(e,"click",i),r=!0)},p(o,n){c=o},d(o){o&&u(e),r=!1,f()}}}function de(c){let e,l=c[15].estimateUnlockDate+"",r;return{c(){e=d("p"),r=M(l)},l(f){e=h(f,"P",{});var i=y(e);r=N(i,l),i.forEach(u)},m(f,i){T(f,e,i),_(e,r)},p(f,i){i&1&&l!==(l=f[15].estimateUnlockDate+"")&&j(r,l)},d(f){f&&u(e)}}}function he(c){let e,l,r,f,i,o,n=c[15].satoshis.toLocaleString()+"",t,s,a,b,U,w=(Number(c[15].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"",R,P,I,E,p,m,v,H,O,G=(c[15].satoshis/96n).toLocaleString()+"",z,q,$,x,B=c[5]>0&&c[15].waitBlocks>0&&_e(c);function se(k,S){return k[15].waitBlocks<0?je:qe}let K=se(c),A=K(c),L=c[5]>0&&c[15].waitBlocks>0&&de(c);return{c(){e=d("table"),l=d("tr"),r=d("td"),B&&B.c(),f=D(),i=d("td"),o=d("b"),t=M(n),s=M(" sats "),a=d("br"),b=D(),U=d("i"),R=M(w),P=M(" BCH"),I=D(),E=d("tr"),p=d("td"),A.c(),m=D(),v=d("td"),L&&L.c(),H=D(),O=d("b"),z=M(G),q=M(" sats "),$=d("br"),x=D(),this.h()},l(k){e=h(k,"TABLE",{class:!0});var S=y(e);l=h(S,"TR",{});var W=y(l);r=h(W,"TD",{class:!0});var re=y(r);B&&B.l(re),re.forEach(u),f=C(W),i=h(W,"TD",{class:!0});var J=y(i);o=h(J,"B",{});var oe=y(o);t=N(oe,n),oe.forEach(u),s=N(J," sats "),a=h(J,"BR",{}),b=C(J),U=h(J,"I",{});var ee=y(U);R=N(ee,w),P=N(ee," BCH"),ee.forEach(u),J.forEach(u),W.forEach(u),I=C(S),E=h(S,"TR",{});var Y=y(E);p=h(Y,"TD",{class:!0});var ie=y(p);A.l(ie),ie.forEach(u),m=C(Y),v=h(Y,"TD",{colspan:!0,style:!0,class:!0});var Q=y(v);L&&L.l(Q),H=C(Q),O=h(Q,"B",{});var ae=y(O);z=N(ae,G),ae.forEach(u),q=N(Q," sats "),$=h(Q,"BR",{}),Q.forEach(u),Y.forEach(u),x=C(S),S.forEach(u),this.h()},h(){g(r,"class","svelte-vfoyeb"),g(i,"class","svelte-vfoyeb"),g(p,"class","svelte-vfoyeb"),g(v,"colspan","3"),pe(v,"line-break","anywhere"),g(v,"class","svelte-vfoyeb"),g(e,"class","svelte-vfoyeb")},m(k,S){T(k,e,S),_(e,l),_(l,r),B&&B.m(r,null),_(l,f),_(l,i),_(i,o),_(o,t),_(i,s),_(i,a),_(i,b),_(i,U),_(U,R),_(U,P),_(e,I),_(e,E),_(E,p),A.m(p,null),_(E,m),_(E,v),L&&L.m(v,null),_(v,H),_(v,O),_(O,z),_(v,q),_(v,$),_(e,x)},p(k,S){k[5]>0&&k[15].waitBlocks>0?B?B.p(k,S):(B=_e(k),B.c(),B.m(r,null)):B&&(B.d(1),B=null),S&1&&n!==(n=k[15].satoshis.toLocaleString()+"")&&j(t,n),S&1&&w!==(w=(Number(k[15].satoshis)/1e8).toLocaleString(void 0,{minimumSignificantDigits:6})+"")&&j(R,w),K===(K=se(k))&&A?A.p(k,S):(A.d(1),A=K(k),A&&(A.c(),A.m(p,null))),k[5]>0&&k[15].waitBlocks>0?L?L.p(k,S):(L=de(k),L.c(),L.m(v,H)):L&&(L.d(1),L=null),S&1&&G!==(G=(k[15].satoshis/96n).toLocaleString()+"")&&j(z,G)},d(k){k&&u(e),B&&B.d(),A.d(),L&&L.d()}}}function ze(c){let e,l,r,f;const i=[Oe,Pe,Ie],o=[];function n(t,s){return t[0]&&t[0].length>0?0:!t[2]&&t[0].length==0?1:2}return l=n(c),r=o[l]=i[l](c),{c(){e=d("section"),r.c(),this.h()},l(t){e=h(t,"SECTION",{class:!0});var s=y(e);r.l(s),s.forEach(u),this.h()},h(){g(e,"class","svelte-vfoyeb")},m(t,s){T(t,e,s),o[l].m(e,null),f=!0},p(t,[s]){let a=l;l=n(t),l===a?o[l].p(t,s):(me(),F(o[a],1,1,()=>{o[a]=null}),be(),r=o[l],r?r.p(t,s):(r=o[l]=i[l](t),r.c()),V(r,1),r.m(e,null))},i(t){f||(V(r),f=!0)},o(t){F(r),f=!1},d(t){t&&u(e),o[l].d()}}}function Je(c,e,l){let r;ye(c,Re,p=>l(6,r=p));let{receiptAddress:f=""}=e,i=[],o,n=!0,t=!1,s="",a="",b=-1,U=Date.now();Te(async()=>{f&&(o||(l(1,o=new He(4383,f,1500,96)),o&&await R()))});const w=async p=>{t=!1;try{l(3,s=await o.execute(f,void 0,[p])),t=!0,l(4,a="")}catch(m){l(4,a=m)}},R=async()=>{l(0,i=await o.getUtxos()),l(5,b=await o.provider.getBlockHeight()),l(0,i=i.sort((p,m)=>p.height-m.height)),l(0,i=i.map(p=>{let m=p.height+4383-b;return{...p,estimateUnlockDate:new Date(U+m*6e5).toLocaleString(),waitBlocks:m}})),l(2,n=!1)},P=async p=>w(p),I=async p=>w(p),E=()=>Ae.push("ðŸ“‹ðŸ—¸");return c.$$set=p=>{"receiptAddress"in p&&l(8,f=p.receiptAddress)},[i,o,n,s,a,b,r,w,f,P,I,E]}class Ze extends Be{constructor(e){super(),Le(this,e,Je,ze,ke,{receiptAddress:8})}}export{Ze as U};
//# sourceMappingURL=UtxoSection.913001ad.js.map
